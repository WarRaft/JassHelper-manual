<html>
<head>
    <title>JassHelper 0.A.2.A</title>
    <meta name="Generator" content="gedit">
    <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
    <style type='text/css'>
        pre { padding-left: 20px; }
    </style>
</head>
<body bgcolor="#ffffff" text="#000000">

<style type="text/css"><!--

.syntax-NULL {
  color: #010101;
}
.syntax-COMMENT1 {
  color: #0f6601;
  font-style: italic;
}
.syntax-COMMENT2 {
  background: #f7fef7;
  color: #016f0b;
  font-style: italic;
}
.syntax-COMMENT3 {
  color: #8e8e8e;
  font-weight: bold;
}
.syntax-COMMENT4 {
  color: #cc6600;
}
.syntax-DIGIT {
  color: #000066;
}
.syntax-FUNCTION {
  color: #ff7200;
}
.syntax-INVALID {
  background: #ff0f00;
  color: #fefefe;
}
.syntax-KEYWORD1 {
  color: #190090;
  font-weight: bold;
}
.syntax-KEYWORD2 {
  color: #010101;
  font-weight: bold;
}
.syntax-KEYWORD3 {
  color: #6868fd;
  font-weight: bold;
}
.syntax-KEYWORD4 {
  color: #ff3900;
}
.syntax-LABEL {
  color: #02b902;
}
.syntax-LITERAL1 {
  color: #ae01a3;
  font-style: italic;
}
.syntax-LITERAL2 {
  color: #000066;
}
.syntax-LITERAL3 {
  color: #cc0096;
}
.syntax-LITERAL4 {
  color: #2d00ff;
}
.syntax-MARKUP {
  color: #0000ff;
}
.syntax-OPERATOR {
  color: #016241;
  font-weight: bold;
}


-->
</style>

<li>Structs and other custom types
    <ul>
        <li><a href="#operover">Operator making</a></li>
        <li><a href="#extendstruct">Extending structs</a></li>
        <li><a href="#stubmeth">Stub methods</a></li>
        <li><a href="#super">super</a></li>
        <li><a href="#dynarr">Dynamic arrays</a></li>
        <li><a href="#arrmemb">Array members</a></li>

        <li><a href="#delegat">Delegate</a></li>
        <li><a href="#thistype">thistype</a></li>
        <li><a href="#module">Module</a></li>

        <li><a href="#funcobj">Functions as objects</a></li>
        <li><a href="#funcinterf">Function interfaces</a></li>
        <li><a href="#typecast">Typecast</a></li>
        <li><a href="#methodname">Method function name</a></li>
        <li><a href="#methodexists">Method exists</a></li>
        <li><a href="#arrstruct">Array structs</a></li>
        <li><a href="#keykeykey">Keys</a></li>
    </ul>
</li>

<li>Storage space enhancements
    <ul>
        <li><a href="#storintro">Introduction</a></li>
        <li><a href="#storarray">Sized arrays</a></li>
        <li><a href="#twodarray">2D arrays</a></li>
        <li><a href="#storstruct">Structs with more index space</a></li>
        <li><a href="#stordyrar">Dynamic arrays with more index space</a></li>
    </ul>
</li>

<li>Jass syntax extensions</li>
<ul>
    <li><a href="#secolon">Colon</a></li>
    <li><a href="#delicom">Delimited comments</a></li>
    <li>Comma (Not implemented yet)</li>

</ul>

<li><a href="#hook">hook</a></li>
<li><a href="#inject">inject</a></li>
<li><a href="#slk">Loading structs from SLK files</a></li>
<li><a href="#opt">Script optimization</a></li>
<ul>
    <li><a href="#inl">Function inlining</a></li>
</ul>
<li><a href="#ext">External tools</a></li>
<li><a href="#br">Linebreak fixer</a></li>
</ul>

<h4><a name='operover'></a>Operator making</h4>
<p>Jasshelper allows you to declare custom operators for your structs, these operators would then be converted to method
    calls, vJass currently allows operators for &lt;, &gt; , array set and array get.</p>

<p>The official name for this process (In wikipedia and books) is operator overloading. In the case of vJass, An
    overloaded operator is a method, but it gets operator as name, after the operator keyword you specify the operator
    being overloaded.</p>

<p>An example is worth 1000 words:</p>

<pre>

    <font color="#000000"><b>struct</b></font> <span style="background-color: #ffffff"><font color="#000000">operatortest</font></span>
        <font color="#7777cc"><b>string</b></font> <span style="background-color: #ffffff"><font
        color="#000000">str</font></span>=<font color="#0000cc"><i>&quot;&quot;</i></font>

        <font color="#000000"><b>method</b></font> <font color="#000000"><b>operator</b></font> [] <font
        color="#000000"><b>takes</b></font> <font color="#7777cc"><b>integer</b></font> <span
        style="background-color: #ffffff"><font color="#000000">i</font></span> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>string</b></font>
            <font color="#000000"><b>return</b></font> <span style="background-color: #ffffff"><font color="#000000">SubString</font></span>(<font
        color="#000066">.</font><span style="background-color: #ffffff"><font color="#000000">str</font></span>,<span
        style="background-color: #ffffff"><font color="#000000">i</font></span>,<span style="background-color: #ffffff"><font
        color="#000000">i</font></span>+<font color="#000066">1</font>)
        <font color="#000000"><b>endmethod</b></font>

        <font color="#000000"><b>method</b></font> <font color="#000000"><b>operator</b></font>[]= <font
        color="#000000"><b>takes</b></font> <font color="#7777cc"><b>integer</b></font> <span
        style="background-color: #ffffff"><font color="#000000">i</font></span>, <font
        color="#7777cc"><b>string</b></font> <span style="background-color: #ffffff"><font
        color="#000000">ch</font></span> <font color="#000000"><b>returns</b></font> <font
        color="#7777cc"><b>nothing</b></font>
            <font color="#000000"><b>set</b></font> <font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">str</font></span>=<span
        style="background-color: #ffffff"><font color="#000000">SubString</font></span>(<font
        color="#000066">.</font><span style="background-color: #ffffff"><font color="#000000">str</font></span>,<font
        color="#000066">0</font>,<span style="background-color: #ffffff"><font color="#000000">i</font></span>)+<span
        style="background-color: #ffffff"><font color="#000000">ch</font></span>+<span
        style="background-color: #ffffff"><font color="#000000">SubString</font></span>(<font
        color="#000066">.</font><span style="background-color: #ffffff"><font color="#000000">str</font></span>,<span
        style="background-color: #ffffff"><font color="#000000">i</font></span>+<font color="#000066">1</font>,<span
        style="background-color: #ffffff"><font color="#000000">StringLength</font></span>(<font
        color="#000066">.</font><span style="background-color: #ffffff"><font color="#000000">str</font></span>)-<span
        style="background-color: #ffffff"><font color="#000000">i</font></span>)
        <font color="#000000"><b>endmethod</b></font>

    <font color="#000000"><b>endstruct</b></font>


    <font color="#000000"><b>function</b></font> <span style="background-color: #ffffff"><font
        color="#000000">test</font></span> <font color="#000000"><b>takes</b></font> <font
        color="#7777cc"><b>nothing</b></font> <font color="#000000"><b>returns</b></font> <font color="#7777cc"><b>nothing</b></font>
     <font color="#000000"><b>local</b></font> <span style="background-color: #ffffff"><font color="#000000">operatortest</font></span> <span
        style="background-color: #ffffff"><font color="#000000">x</font></span>=<span style="background-color: #ffffff"><font
        color="#000000">operatortest</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">create</font></span>()
        <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">x</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">str</font></span>=<font color="#0000cc"><i>&quot;Test&quot;</i></font>
        <font color="#000000"><b>call</b></font> <span style="background-color: #ffffff"><font color="#000000">BJDebugMsg</font></span>( <span
        style="background-color: #ffffff"><font color="#000000">x</font></span>[<font color="#000066">1</font>])
        <font color="#000000"><b>call</b></font> <span style="background-color: #ffffff"><font color="#000000">BJDebugMsg</font></span>( <span
        style="background-color: #ffffff"><font color="#000000">x</font></span>[<font color="#000066">0</font>]+<span
        style="background-color: #ffffff"><font color="#000000">x</font></span>[<font color="#000066">3</font>])

        <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">x</font></span>[<font color="#000066">1</font>] = <font
        color="#0000cc"><i>&quot;.&quot;</i></font>
        <font color="#000000"><b>call</b></font> <span style="background-color: #ffffff"><font color="#000000">BJDebugMsg</font></span>( <span
        style="background-color: #ffffff"><font color="#000000">x</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">str</font></span>)
    <font color="#000000"><b>endfunction</b></font>


</pre>

<p>By this example we are overloading the [] operator and giving it a new function for the objects of type <i>operatortest</i>.
    The operator [] specifies the replacement for array get and []= is the replacement for array get.</p>

<p>After inspecting the code you may notice that we are making the string function as an array of strings (or actually
    characters)</p>

<p>The [] operator requires 1 argument (index), the []= operator requires 2 arguments (index and value to assign). []
    must return a value.</p>

<p>[] and []= operators can also be declared as static. This might have some uses, the struct name is going to be
    allowed to use index operators.</p>

<p>There is a lot of criticism towards operator overloading since it allows programmers to make code that does not make
    sense, please use this feature with responsibility.</p>


<p>You can also overload &lt; and &gt; , notice that there is only syntax to declare &lt; by declaring it you are
    forcefully determining an order relation for structs of that type. So it automatically makes &gt; based on your &lt;
    declaration.</p>

<pre>

    <font color="#000000"><b>struct</b></font> <span style="background-color: #ffffff"><font color="#000000">operatortest</font></span>
        <font color="#7777cc"><b>string</b></font> <span style="background-color: #ffffff"><font
        color="#000000">str</font></span>=<font color="#0000cc"><i>&quot;&quot;</i></font>

        <font color="#000000"><b>method</b></font> <font color="#000000"><b>operator</b></font> [] <font
        color="#000000"><b>takes</b></font> <font color="#7777cc"><b>integer</b></font> <span
        style="background-color: #ffffff"><font color="#000000">i</font></span> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>string</b></font>
            <font color="#000000"><b>return</b></font> <span style="background-color: #ffffff"><font color="#000000">SubString</font></span>(<font
        color="#000066">.</font><span style="background-color: #ffffff"><font color="#000000">str</font></span>,<span
        style="background-color: #ffffff"><font color="#000000">i</font></span>,<span style="background-color: #ffffff"><font
        color="#000000">i</font></span>+<font color="#000066">1</font>)
        <font color="#000000"><b>endmethod</b></font>

        <font color="#000000"><b>method</b></font> <font color="#000000"><b>operator</b></font>[]= <font
        color="#000000"><b>takes</b></font> <font color="#7777cc"><b>integer</b></font> <span
        style="background-color: #ffffff"><font color="#000000">i</font></span>, <font
        color="#7777cc"><b>string</b></font> <span style="background-color: #ffffff"><font
        color="#000000">ch</font></span> <font color="#000000"><b>returns</b></font> <font
        color="#7777cc"><b>nothing</b></font>
            <font color="#000000"><b>set</b></font> <font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">str</font></span>=<span
        style="background-color: #ffffff"><font color="#000000">SubString</font></span>(<font
        color="#000066">.</font><span style="background-color: #ffffff"><font color="#000000">str</font></span>,<font
        color="#000066">0</font>,<span style="background-color: #ffffff"><font color="#000000">i</font></span>)+<span
        style="background-color: #ffffff"><font color="#000000">ch</font></span>+<span
        style="background-color: #ffffff"><font color="#000000">SubString</font></span>(<font
        color="#000066">.</font><span style="background-color: #ffffff"><font color="#000000">str</font></span>,<span
        style="background-color: #ffffff"><font color="#000000">i</font></span>+<font color="#000066">1</font>,<span
        style="background-color: #ffffff"><font color="#000000">StringLength</font></span>(<font
        color="#000066">.</font><span style="background-color: #ffffff"><font color="#000000">str</font></span>)-<span
        style="background-color: #ffffff"><font color="#000000">i</font></span>)
        <font color="#000000"><b>endmethod</b></font>

        <font color="#000000"><b>method</b></font> <font color="#000000"><b>operator</b></font>&lt; <font
        color="#000000"><b>takes</b></font>  <span style="background-color: #ffffff"><font
        color="#000000">operatortest</font></span> <span style="background-color: #ffffff"><font
        color="#000000">b</font></span> <font color="#000000"><b>returns</b></font> <font color="#7777cc"><b>boolean</b></font>
            <font color="#000000"><b>return</b></font> <span style="background-color: #ffffff"><font color="#000000">StringLength</font></span>(<font
        color="#000066">this</font><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">str</font></span>) &lt; <span style="background-color: #ffffff"><font color="#000000">StringLength</font></span>(<span
        style="background-color: #ffffff"><font color="#000000">b</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">str</font></span>)
        <font color="#000000"><b>endmethod</b></font>

    <font color="#000000"><b>endstruct</b></font>


    <font color="#000000"><b>function</b></font> <span style="background-color: #ffffff"><font
        color="#000000">test</font></span> <font color="#000000"><b>takes</b></font> <font
        color="#7777cc"><b>nothing</b></font> <font color="#000000"><b>returns</b></font> <font color="#7777cc"><b>nothing</b></font>
     <font color="#000000"><b>local</b></font> <span style="background-color: #ffffff"><font color="#000000">operatortest</font></span> <span
        style="background-color: #ffffff"><font color="#000000">x</font></span>=<span style="background-color: #ffffff"><font
        color="#000000">operatortest</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">create</font></span>()
     <font color="#000000"><b>local</b></font> <span style="background-color: #ffffff"><font color="#000000">operatortest</font></span> <span
        style="background-color: #ffffff"><font color="#000000">y</font></span>=<span style="background-color: #ffffff"><font
        color="#000000">operatortest</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">create</font></span>()

        <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">x</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">str</font></span>=<font color="#0000cc"><i>&quot;Test...&quot;</i></font>
        <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">y</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">str</font></span>=<font color="#0000cc"><i>&quot;.Test&quot;</i></font>

        <font color="#000000"><b>if</b></font> (<span style="background-color: #ffffff"><font
        color="#000000">x</font></span>&lt;<span style="background-color: #ffffff"><font color="#000000">y</font></span>) <font
        color="#000000"><b>then</b></font>
            <font color="#000000"><b>call</b></font> <span style="background-color: #ffffff"><font color="#000000">BJDebugMsg</font></span>(<font
        color="#0000cc"><i>&quot;Less than&quot;</i></font>)
        <font color="#000000"><b>endif</b></font>
        <font color="#000000"><b>if</b></font> (<span style="background-color: #ffffff"><font
        color="#000000">x</font></span>&gt;<span style="background-color: #ffffff"><font color="#000000">y</font></span>) <font
        color="#000000"><b>then</b></font>
            <font color="#000000"><b>call</b></font> <span style="background-color: #ffffff"><font color="#000000">BJDebugMsg</font></span>(<font
        color="#0000cc"><i>&quot;Greater than&quot;</i></font>)
        <font color="#000000"><b>endif</b></font>
    <font color="#000000"><b>endfunction</b></font>


</pre>


<p>In the example, an object of type operatortest is considered greater than another object of that type if the length
    of its str member is greater than the length of the other object&apos;s str member.</p>

<p>operator&lt; must return a boolean value and take an argument of the same type as the struct.</p>

<p>Operators are interface friendly meaning that an interface may declare operators, there is a catch and it is that the
    operator&lt; must be declared without signature in an interface. Also when using &gt; or &lt; to compare interface
    objects both instances must have the same type, otherwise the function would halt before performing the comparisson,
    if debug mode was enabled when compiling, it will also show a warning message.</p>

<pre>
    <font color="#000000"><b>interface</b></font> <span style="background-color: #ffffff"><font
        color="#000000">ordered</font></span>
        <font color="#000000"><b>method</b></font> <font color="#000000"><b>operator</b></font> &lt;
    <font color="#000000"><b>endinterface</b></font>

    <font color="#000000"><b>interface</b></font> <span style="background-color: #ffffff"><font
        color="#000000">indexed</font></span>
        <font color="#000000"><b>method</b></font> <font color="#000000"><b>operator</b></font> [] <font
        color="#000000"><b>takes</b></font> <font color="#7777cc"><b>integer</b></font> <span
        style="background-color: #ffffff"><font color="#000000">index</font></span> <font color="#000000"><b>returns</b></font> <span
        style="background-color: #ffffff"><font color="#000000">ordered</font></span>
        <font color="#000000"><b>method</b></font> <font color="#000000"><b>operator</b></font> []= <font
        color="#000000"><b>takes</b></font> <font color="#7777cc"><b>integer</b></font> <span
        style="background-color: #ffffff"><font color="#000000">index</font></span>, <span
        style="background-color: #ffffff"><font color="#000000">ordered</font></span> <span
        style="background-color: #ffffff"><font color="#000000">v</font></span> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>nothing</b></font>
    <font color="#000000"><b>endinterface</b></font>

    <font color="#000000"><b>function</b></font> <span style="background-color: #ffffff"><font
        color="#000000">sort</font></span> <font color="#000000"><b>takes</b></font> <span
        style="background-color: #ffffff"><font color="#000000">indexed</font></span> <span
        style="background-color: #ffffff"><font color="#000000">a</font></span>, <font
        color="#7777cc"><b>integer</b></font> <span style="background-color: #ffffff"><font color="#000000">from</font></span>, <font
        color="#7777cc"><b>integer</b></font> <span style="background-color: #ffffff"><font
        color="#000000">to</font></span> <font color="#000000"><b>returns</b></font> <font
        color="#7777cc"><b>nothing</b></font>
     <font color="#000000"><b>local</b></font> <font color="#7777cc"><b>integer</b></font> <span
        style="background-color: #ffffff"><font color="#000000">i</font></span>
     <font color="#000000"><b>local</b></font> <font color="#7777cc"><b>integer</b></font> <span
        style="background-color: #ffffff"><font color="#000000">j</font></span>
     <font color="#000000"><b>local</b></font> <span style="background-color: #ffffff"><font
        color="#000000">ordered</font></span> <span style="background-color: #ffffff"><font
        color="#000000">aux</font></span>

        <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">i</font></span>=<span style="background-color: #ffffff"><font color="#000000">from</font></span>
        <font color="#000000"><b>loop</b></font>
            <font color="#000000"><b>exitwhen</b></font> (<span style="background-color: #ffffff"><font color="#000000">i</font></span>&gt;=<span
        style="background-color: #ffffff"><font color="#000000">to</font></span>)
            <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">j</font></span>=<span style="background-color: #ffffff"><font
        color="#000000">i</font></span>+<font color="#000066">1</font>
            <font color="#000000"><b>loop</b></font>
                <font color="#000000"><b>exitwhen</b></font> (<span style="background-color: #ffffff"><font
        color="#000000">j</font></span>&gt;<span style="background-color: #ffffff"><font
        color="#000000">to</font></span>)
                <font color="#000000"><b>if</b></font> (<span style="background-color: #ffffff"><font
        color="#000000">a</font></span>[<span style="background-color: #ffffff"><font color="#000000">j</font></span>]&lt;<span
        style="background-color: #ffffff"><font color="#000000">a</font></span>[<span style="background-color: #ffffff"><font
        color="#000000">i</font></span>]) <font color="#000000"><b>then</b></font>
                    <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">aux</font></span> = <span style="background-color: #ffffff"><font
        color="#000000">a</font></span>[<span style="background-color: #ffffff"><font color="#000000">i</font></span>]
                    <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">a</font></span>[<span style="background-color: #ffffff"><font color="#000000">i</font></span>] = <span
        style="background-color: #ffffff"><font color="#000000">a</font></span>[<span style="background-color: #ffffff"><font
        color="#000000">j</font></span>]
                    <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">a</font></span>[<span style="background-color: #ffffff"><font color="#000000">j</font></span>] = <span
        style="background-color: #ffffff"><font color="#000000">aux</font></span>
                <font color="#000000"><b>endif</b></font>
                <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">j</font></span>=<span style="background-color: #ffffff"><font
        color="#000000">j</font></span>+<font color="#000066">1</font>
            <font color="#000000"><b>endloop</b></font>

            <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">i</font></span>=<span style="background-color: #ffffff"><font
        color="#000000">i</font></span>+<font color="#000066">1</font>
        <font color="#000000"><b>endloop</b></font>
    <font color="#000000"><b>endfunction</b></font>

</pre>

<p>This is an interface for a sorting algorithm. We may now declare custom types that work to sort stuff:</p>

<pre>

    <font color="#000000"><b>struct</b></font> <span style="background-color: #ffffff"><font
        color="#000000">integerpair</font></span> <font color="#000000"><b>extends</b></font> <span
        style="background-color: #ffffff"><font color="#000000">ordered</font></span>
        <font color="#7777cc"><b>integer</b></font> <span style="background-color: #ffffff"><font
        color="#000000">x</font></span>
        <font color="#7777cc"><b>integer</b></font> <span style="background-color: #ffffff"><font
        color="#000000">y</font></span>

        <font color="#000000"><b>method</b></font> <font color="#000000"><b>operator</b></font>&lt; <font
        color="#000000"><b>takes</b></font> <span style="background-color: #ffffff"><font
        color="#000000">integerpair</font></span> <span style="background-color: #ffffff"><font color="#000000">b</font></span> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>boolean</b></font>
            <font color="#000000"><b>if</b></font> (<span style="background-color: #ffffff"><font
        color="#000000">b</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">x</font></span>==<font color="#000066">this</font><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">x</font></span>) <font
        color="#000000"><b>then</b></font>
                <font color="#000000"><b>return</b></font> (<font color="#000066">this</font><font
        color="#000066">.</font><span style="background-color: #ffffff"><font color="#000000">y</font></span>&lt;<span
        style="background-color: #ffffff"><font color="#000000">b</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">y</font></span>)
            <font color="#000000"><b>endif</b></font>
            <font color="#000000"><b>return</b></font> (<font color="#000066">this</font><font
        color="#000066">.</font><span style="background-color: #ffffff"><font color="#000000">x</font></span>&lt;<span
        style="background-color: #ffffff"><font color="#000000">b</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">x</font></span>)
        <font color="#000000"><b>endmethod</b></font>
    <font color="#000000"><b>endstruct</b></font>

    <font color="#000000"><b>type</b></font> <span style="background-color: #ffffff"><font
        color="#000000">ipairarray</font></span> <font color="#000000"><b>extends</b></font> <span
        style="background-color: #ffffff"><font color="#000000">integerpair</font></span> <font
        color="#7777cc"><b>array</b></font> [<font color="#000066">400</font>]

    <font color="#000000"><b>struct</b></font> <span style="background-color: #ffffff"><font color="#000000">integerpairarray</font></span> <font
        color="#000000"><b>extends</b></font> <span style="background-color: #ffffff"><font
        color="#000000">indexed</font></span>
        <span style="background-color: #ffffff"><font color="#000000">ipairarray</font></span> <span
        style="background-color: #ffffff"><font color="#000000">data</font></span>

        <font color="#000000"><b>method</b></font> <font color="#000000"><b>operator</b></font>[] <font color="#000000"><b>takes</b></font> <font
        color="#7777cc"><b>integer</b></font> <span style="background-color: #ffffff"><font color="#000000">index</font></span> <font
        color="#000000"><b>returns</b></font> <span style="background-color: #ffffff"><font
        color="#000000">ordered</font></span>
            <font color="#000000"><b>return</b></font> <span style="background-color: #ffffff"><font color="#000000">ordered</font></span>( <font
        color="#000066">this</font><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">data</font></span>[<span style="background-color: #ffffff"><font
        color="#000000">index</font></span>] )
        <font color="#000000"><b>endmethod</b></font>

        <font color="#000000"><b>method</b></font> <font color="#000000"><b>operator</b></font>[]= <font
        color="#000000"><b>takes</b></font> <font color="#7777cc"><b>integer</b></font> <span
        style="background-color: #ffffff"><font color="#000000">index</font></span>, <span
        style="background-color: #ffffff"><font color="#000000">ordered</font></span> <span
        style="background-color: #ffffff"><font color="#000000">value</font></span> <font color="#000000"><b>returns</b></font> <font
        color="#7777cc"><b>nothing</b></font>
            <font color="#000000"><b>set</b></font> <font color="#000066">this</font><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">data</font></span>[<span
        style="background-color: #ffffff"><font color="#000000">index</font></span>] = <span
        style="background-color: #ffffff"><font color="#000000">integerpair</font></span>( <span
        style="background-color: #ffffff"><font color="#000000">value</font></span>)
        <font color="#000000"><b>endmethod</b></font>
    <font color="#000000"><b>endstruct</b></font>

</pre>

<p>Of course, it is just an example, the logical way would be using quicksort, operators are also good since they would
    also allow textmacros to use them, the same sorting textmacro might then be compatible with integer, real and any
    struct with overloaded &lt; operator.</p>

<p>You may also declare a custom ==, works same as &lt; if you declare this operator, != will be translated to not(your
    method). Also, notice that to do pointer comparisons you will need to use integer(var1)==integer(var2)</p>

<h5>More things we can do with custom operators</h5>

<p>One thing is to <i>overload</i> [], &gt;, &lt;, you can also make a method mimic a field, to keep abstraction and
    simplify syntax.</p>

<pre>
<font color="#000000"><b>struct</b></font> <span style="background-color: #ffffff"><font color="#000000">X</font></span>
    <font color="#7777cc"><b>integer</b></font> <span style="background-color: #ffffff"><font
        color="#000000">a</font></span>=<font color="#000066">2</font>
    <font color="#7777cc"><b>integer</b></font> <span style="background-color: #ffffff"><font
        color="#000000">b</font></span>=<font color="#000066">2</font>

    <font color="#000000"><b>method</b></font> <font color="#000000"><b>operator</b></font> <span
        style="background-color: #ffffff"><font color="#000000">x</font></span> <font
        color="#000000"><b>takes</b></font> <font color="#7777cc"><b>nothing</b></font> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>integer</b></font>
        <font color="#000000"><b>return</b></font> <font color="#000066">this</font><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">a</font></span>*<font color="#000066">this</font><font
        color="#000066">.</font><span style="background-color: #ffffff"><font color="#000000">b</font></span>
    <font color="#000000"><b>endmethod</b></font>

    <font color="#000000"><b>method</b></font> <font color="#000000"><b>operator</b></font> <span
        style="background-color: #ffffff"><font color="#000000">x</font></span>= <font
        color="#000000"><b>takes</b></font> <font color="#7777cc"><b>integer</b></font> <span
        style="background-color: #ffffff"><font color="#000000">v</font></span> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>nothing</b></font>
        <font color="#000000"><b>set</b></font> <font color="#000066">this</font><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">a</font></span>=<span style="background-color: #ffffff"><font
        color="#000000">v</font></span>/<font color="#000066">this</font><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">b</font></span>
    <font color="#000000"><b>endmethod</b></font>


<font color="#000000"><b>endstruct</b></font>



<font color="#000000"><b>function</b></font> <span style="background-color: #ffffff"><font
        color="#000000">test</font></span> <font color="#000000"><b>takes</b></font> <font
        color="#7777cc"><b>nothing</b></font> <font color="#000000"><b>returns</b></font> <font color="#7777cc"><b>nothing</b></font>
 <font color="#000000"><b>local</b></font> <span style="background-color: #ffffff"><font color="#000000">X</font></span> <span
        style="background-color: #ffffff"><font color="#000000">obj</font></span>= <span
        style="background-color: #ffffff"><font color="#000000">X</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">create</font></span>()

    <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">obj</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">x</font></span>= <span style="background-color: #ffffff"><font color="#000000">obj</font></span><font
        color="#000066">.</font><span style="background-color: #ffffff"><font color="#000000">x</font></span> + <font
        color="#000066">4</font>

    <font color="#000000"><b>call</b></font> <span style="background-color: #ffffff"><font
        color="#000000">BJDebugMsg</font></span>(<span style="background-color: #ffffff"><font
        color="#000000">I2S</font></span>( <span style="background-color: #ffffff"><font
        color="#000000">obj</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">x</font></span>) ) <font color="#008800">//outputs 8</font>
    <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">obj</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">b</font></span>=<font color="#000066">4</font>

    <font color="#000000"><b>call</b></font> <span style="background-color: #ffffff"><font
        color="#000000">BJDebugMsg</font></span>(<span style="background-color: #ffffff"><font
        color="#000000">I2S</font></span>( <span style="background-color: #ffffff"><font
        color="#000000">obj</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">x</font></span>) ) <font color="#008800">//outputs 16</font>

<font color="#000000"><b>endfunction</b></font>
</pre>

<p>You can use this to implement read only fields:</p>

<pre>
<font color="#000000"><b>struct</b></font> <span style="background-color: #ffffff"><font color="#000000">X</font></span>
    <font color="#000000"><b>private</b></font> <font color="#7777cc"><b>integer</b></font> <span
        style="background-color: #ffffff"><font color="#000000">va</font></span>=<font color="#000066">2</font>

    <font color="#000000"><b>method</b></font> <font color="#000000"><b>operator</b></font> <span
        style="background-color: #ffffff"><font color="#000000">a</font></span> <font
        color="#000000"><b>takes</b></font> <font color="#7777cc"><b>nothing</b></font> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>integer</b></font>
        <font color="#000000"><b>return</b></font> <font color="#000066">this</font><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">a</font></span>
    <font color="#000000"><b>endmethod</b></font>

<font color="#000000"><b>endstruct</b></font>



<font color="#000000"><b>function</b></font> <span style="background-color: #ffffff"><font
        color="#000000">test</font></span> <font color="#000000"><b>takes</b></font> <font
        color="#7777cc"><b>nothing</b></font> <font color="#000000"><b>returns</b></font> <font color="#7777cc"><b>nothing</b></font>
 <font color="#000000"><b>local</b></font> <span style="background-color: #ffffff"><font color="#000000">X</font></span> <span
        style="background-color: #ffffff"><font color="#000000">obj</font></span>= <span
        style="background-color: #ffffff"><font color="#000000">X</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">create</font></span>()

    <font color="#000000"><b>call</b></font> <span style="background-color: #ffffff"><font
        color="#000000">BJDebugMsg</font></span>(<span style="background-color: #ffffff"><font
        color="#000000">I2S</font></span>( <span style="background-color: #ffffff"><font
        color="#000000">obj</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">a</font></span>) ) <font color="#008800">//This is legal</font>

    <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">obj</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">a</font></span>=<font color="#000066">2</font> <font color="#008800">//this is not</font>

<font color="#000000"><b>endfunction</b></font>
</pre>

<p>More importantly, you can use it to implement fields that take extra provisions for assigments:</p>

<pre>
<font color="#000000"><b>struct</b></font> <span style="background-color: #ffffff"><font
        color="#000000">movableEffect</font></span>

    <font color="#000000"><b>private</b></font> <font color="#7777cc"><b>unit</b></font> <span
        style="background-color: #ffffff"><font color="#000000">dummy</font></span>
    <font color="#000000"><b>private</b></font> <font color="#7777cc"><b>string</b></font> <span
        style="background-color: #ffffff"><font color="#000000">rfx</font></span>
    <font color="#000000"><b>private</b></font> <font color="#7777cc"><b>effect</b></font> <span
        style="background-color: #ffffff"><font color="#000000">uniteffect</font></span>

    <font color="#008800">//...</font>
        <font color="#008800">//(A lot of code implementing other actions and creation)</font>
    <font color="#008800">//...</font>

    <font color="#000000"><b>method</b></font> <font color="#000000"><b>operator</b></font> <span
        style="background-color: #ffffff"><font color="#000000">x</font></span> <font
        color="#000000"><b>takes</b></font> <font color="#7777cc"><b>nothing</b></font> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>real</b></font>
        <font color="#000000"><b>return</b></font> <span style="background-color: #ffffff"><font color="#000000">GetUnitX</font></span>(<font
        color="#000066">this</font><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">dummy</font></span>)
    <font color="#000000"><b>endmethod</b></font>

    <font color="#000000"><b>method</b></font> <font color="#000000"><b>operator</b></font> <span
        style="background-color: #ffffff"><font color="#000000">y</font></span> <font
        color="#000000"><b>takes</b></font> <font color="#7777cc"><b>nothing</b></font> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>real</b></font>
        <font color="#000000"><b>return</b></font> <span style="background-color: #ffffff"><font color="#000000">GetUnitY</font></span>(<font
        color="#000066">this</font><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">dummy</font></span>)
    <font color="#000000"><b>endmethod</b></font>

    <font color="#000000"><b>method</b></font> <font color="#000000"><b>operator</b></font> <span
        style="background-color: #ffffff"><font color="#000000">x</font></span>= <font
        color="#000000"><b>takes</b></font> <font color="#7777cc"><b>real</b></font> <span
        style="background-color: #ffffff"><font color="#000000">value</font></span> <font color="#000000"><b>returns</b></font> <font
        color="#7777cc"><b>nothing</b></font>
        <font color="#000000"><b>call</b></font> <span style="background-color: #ffffff"><font
        color="#000000">SetUnitX</font></span>(<font color="#000066">this</font><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">dummy</font></span>, <span
        style="background-color: #ffffff"><font color="#000000">value</font></span>)
    <font color="#000000"><b>endmethod</b></font>

    <font color="#000000"><b>method</b></font> <font color="#000000"><b>operator</b></font> <span
        style="background-color: #ffffff"><font color="#000000">y</font></span>= <font
        color="#000000"><b>takes</b></font> <font color="#7777cc"><b>real</b></font> <span
        style="background-color: #ffffff"><font color="#000000">value</font></span> <font color="#000000"><b>returns</b></font> <font
        color="#7777cc"><b>nothing</b></font>
        <font color="#000000"><b>call</b></font> <span style="background-color: #ffffff"><font
        color="#000000">SetUnitY</font></span>(<font color="#000066">this</font><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">dummy</font></span>, <span
        style="background-color: #ffffff"><font color="#000000">value</font></span>)
    <font color="#000000"><b>endmethod</b></font>


    <font color="#000000"><b>method</b></font> <font color="#000000"><b>operator</b></font> <span
        style="background-color: #ffffff"><font color="#000000">effectpath</font></span> <font
        color="#000000"><b>takes</b></font> <font color="#7777cc"><b>nothing</b></font> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>string</b></font>
        <font color="#000000"><b>return</b></font> <font color="#000066">this</font><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">rfx</font></span>
    <font color="#000000"><b>endmethod</b></font>

    <font color="#000000"><b>method</b></font> <font color="#000000"><b>operator</b></font> <span
        style="background-color: #ffffff"><font color="#000000">effectpath=</font></span> <font
        color="#000000"><b>takes</b></font> <font color="#7777cc"><b>string</b></font> <span
        style="background-color: #ffffff"><font color="#000000">path</font></span> <font color="#000000"><b>returns</b></font> <font
        color="#7777cc"><b>nothing</b></font>
        <font color="#000000"><b>set</b></font> <font color="#000066">this</font><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">rfx</font></span>=<span
        style="background-color: #ffffff"><font color="#000000">path</font></span>
        <font color="#000000"><b>call</b></font> <span style="background-color: #ffffff"><font color="#000000">DestroyEffect</font></span>( <font
        color="#000066">this</font><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">uniteffect</font></span>)
        <font color="#000000"><b>set</b></font> <font color="#000066">this</font><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">uniteffect</font></span> = <span
        style="background-color: #ffffff"><font color="#000000">AddSpecialEffectTarget</font></span>(<font
        color="#000066">this</font><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">dummy</font></span>, <span style="background-color: #ffffff"><font
        color="#000000">path</font></span>, <font color="#0000cc"><i>&quot;origin&quot;</i></font>)
    <font color="#000000"><b>endmethod</b></font>

<font color="#000000"><b>endstruct</b></font>


<font color="#000000"><b>function</b></font> <span style="background-color: #ffffff"><font
        color="#000000">moveRandom</font></span> <font color="#000000"><b>takes</b></font> <span
        style="background-color: #ffffff"><font color="#000000">movableEffect</font></span> <span
        style="background-color: #ffffff"><font color="#000000">me</font></span> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>nothing</b></font>
    <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">me</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">x</font></span>= <span style="background-color: #ffffff"><font
        color="#000000">me</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">x</font></span> + <span style="background-color: #ffffff"><font
        color="#000000">GetRandomReal</font></span>(-<font color="#000066">50</font>,<font color="#000066">50</font>)
    <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">me</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">y</font></span>= <span style="background-color: #ffffff"><font
        color="#000000">me</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">y</font></span> + <span style="background-color: #ffffff"><font
        color="#000000">GetRandomReal</font></span>(-<font color="#000066">50</font>,<font color="#000066">50</font>)
<font color="#000000"><b>endfunction</b></font>

<font color="#000000"><b>function</b></font> <span style="background-color: #ffffff"><font color="#000000">toFire</font></span> <font
        color="#000000"><b>takes</b></font> <span style="background-color: #ffffff"><font
        color="#000000">movableEffect</font></span> <span style="background-color: #ffffff"><font
        color="#000000">me</font></span> <font color="#000000"><b>returns</b></font> <font
        color="#7777cc"><b>nothing</b></font>
    <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">me</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">effectpath</font></span> =<font color="#0000cc"><i>&quot;war3mapimporte\\cutefireeffect.mdl&quot;</i></font>
<font color="#000000"><b>endfunction</b></font>
</pre>

<p><b>Hint:</b> With operators like .fieldname= and []= it is possible to have a return value in the method, however
    this return value would almost always be impossible to get from outside the function, there is an exception, and it
    is when these methods return a value of the struct&apos;s type, then it will get translated to an assignment. For
    example, instead of call var_set(object,45), the result would be set object=var_set(object,45)</p>

<p><b>Note:</b> Since 0.9.Z.1, this syntax is also supported for static members.</p>

<h3><a name='extendstruct'></a>Extending structs</h3>

<p>It is possible to base an struct from a previously declared struct, by doing this your new type is going to acquire
    methods and variable members of the base struct, it is also able to use instances of this type with functions and
    variables of the base type.</p>

<p>Consider doing this as a way to add code and properties to a previous type.</p>

<pre>
<font color="#000000"><b>struct</b></font> <span style="background-color: #ffffff"><font color="#000000">A</font></span>
   <font color="#0055aa"><b>integer</b></font> <span style="background-color: #ffffff"><font
        color="#000000">x</font></span>
   <font color="#0055aa"><b>integer</b></font> <span style="background-color: #ffffff"><font
        color="#000000">y</font></span>

   <font color="#000000"><b>method</b></font> <span style="background-color: #ffffff"><font color="#000000">setxy</font></span> <font
        color="#000000"><b>takes</b></font> <font color="#0055aa"><b>integer</b></font> <span
        style="background-color: #ffffff"><font color="#000000">cx</font></span>, <font
        color="#0055aa"><b>integer</b></font> <span style="background-color: #ffffff"><font
        color="#000000">cy</font></span> <font color="#000000"><b>returns</b></font> <font
        color="#0055aa"><b>nothing</b></font>
       <font color="#000000"><b>set</b></font> <font color="#0000aa">this</font><font color="#0000aa">.</font><span
        style="background-color: #ffffff"><font color="#000000">x</font></span>=<span style="background-color: #ffffff"><font
        color="#000000">cx</font></span>
       <font color="#000000"><b>set</b></font> <font color="#0000aa">this</font><font color="#0000aa">.</font><span
        style="background-color: #ffffff"><font color="#000000">y</font></span>=<span style="background-color: #ffffff"><font
        color="#000000">cy</font></span>
   <font color="#000000"><b>endmethod</b></font>
<font color="#000000"><b>endstruct</b></font>

<font color="#000000"><b>struct</b></font> <span style="background-color: #ffffff"><font color="#000000">B</font></span> <font
        color="#000000"><b>extends</b></font> <span style="background-color: #ffffff"><font
        color="#000000">A</font></span>
   <font color="#0055aa"><b>integer</b></font> <span style="background-color: #ffffff"><font
        color="#000000">z</font></span>
   <font color="#000000"><b>method</b></font> <span style="background-color: #ffffff"><font
        color="#000000">setxyz</font></span> <font color="#000000"><b>takes</b></font> <font
        color="#0055aa"><b>integer</b></font> <span style="background-color: #ffffff"><font
        color="#000000">cx</font></span>, <font color="#0055aa"><b>integer</b></font> <span
        style="background-color: #ffffff"><font color="#000000">cy</font></span>, <font
        color="#0055aa"><b>integer</b></font> <span style="background-color: #ffffff"><font
        color="#000000">cz</font></span> <font color="#000000"><b>returns</b></font> <font
        color="#0055aa"><b>nothing</b></font>
       <font color="#000000"><b>call</b></font> <font color="#0000aa">this</font><font color="#0000aa">.</font><span
        style="background-color: #ffffff"><font color="#000000">setxy</font></span>(<span
        style="background-color: #ffffff"><font color="#000000">cx</font></span>,<span
        style="background-color: #ffffff"><font color="#000000">cy</font></span>) <font color="#008800">//we can use A's members</font>
       <font color="#000000"><b>set</b></font> <font color="#0000aa">this</font><font color="#0000aa">.</font><span
        style="background-color: #ffffff"><font color="#000000">z</font></span>=<span style="background-color: #ffffff"><font
        color="#000000">cz</font></span>
   <font color="#000000"><b>endmethod</b></font>
<font color="#000000"><b>endstruct</b></font>
</pre>

<p>Internally, B.allocate() is actually calling A&apos;s constructor and B.destroy will also call B&apos;s
    deconstructor. If a base struct got a custom create method, the structs extending it will have to use it for
    allocate(). If the custom create method requires arguments, the allocate method for child structs will require the
    same arguments:</p>

<pre>
<font color="#000000"><b>struct</b></font> <span style="background-color: #ffffff"><font color="#000000">A</font></span>
   <font color="#0055aa"><b>integer</b></font> <span style="background-color: #ffffff"><font
        color="#000000">x</font></span>
   <font color="#000000"><b>static</b></font> <font color="#000000"><b>method</b></font> <span
        style="background-color: #ffffff"><font color="#000000">create</font></span> <font color="#000000"><b>takes</b></font> <font
        color="#0055aa"><b>integer</b></font> <span style="background-color: #ffffff"><font
        color="#000000">k</font></span> <font color="#000000"><b>returns</b></font> <span
        style="background-color: #ffffff"><font color="#000000">A</font></span>
    <font color="#000000"><b>local</b></font> <span style="background-color: #ffffff"><font
        color="#000000">A</font></span> <span style="background-color: #ffffff"><font
        color="#000000">s</font></span>=<span style="background-color: #ffffff"><font
        color="#000000">A</font></span><font color="#0000aa">.</font><span style="background-color: #ffffff"><font
        color="#000000">allocate</font></span>()
       <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">A</font></span><font color="#0000aa">.</font><span style="background-color: #ffffff"><font
        color="#000000">x</font></span>=<span style="background-color: #ffffff"><font color="#000000">k</font></span>
    <font color="#000000"><b>return</b></font> <span style="background-color: #ffffff"><font
        color="#000000">s</font></span>
   <font color="#000000"><b>endmethod</b></font>
<font color="#000000"><b>endstruct</b></font>

<font color="#000000"><b>struct</b></font> <span style="background-color: #ffffff"><font color="#000000">B</font></span> <font
        color="#000000"><b>extends</b></font> <span style="background-color: #ffffff"><font
        color="#000000">A</font></span>
    <font color="#000000"><b>static</b></font> <font color="#000000"><b>method</b></font> <span
        style="background-color: #ffffff"><font color="#000000">create</font></span> <font color="#000000"><b>takes</b></font> <font
        color="#0055aa"><b>nothing</b></font> <font color="#000000"><b>returns</b></font> <span
        style="background-color: #ffffff"><font color="#000000">B</font></span>
        <font color="#000000"><b>return</b></font> <span style="background-color: #ffffff"><font
        color="#000000">s</font></span>= <span style="background-color: #ffffff"><font
        color="#000000">B</font></span><font color="#0000aa">.</font><span style="background-color: #ffffff"><font
        color="#000000">allocate</font></span>(<font color="#0000aa">445</font>)  <font color="#008800">//notice that B.allocate requires the same arguments as A.create()</font>
    <font color="#000000"><b>endmethod</b></font>
<font color="#000000"><b>endstruct</b></font>

<font color="#000000"><b>struct</b></font> <span style="background-color: #ffffff"><font color="#000000">C</font></span> <font
        color="#000000"><b>extends</b></font> <span style="background-color: #ffffff"><font
        color="#000000">B</font></span> <font color="#008800">//yep, it is possible to extend an struct that is extending another one</font>
    <font color="#000000"><b>static</b></font> <font color="#000000"><b>method</b></font> <span
        style="background-color: #ffffff"><font color="#000000">create</font></span> <font color="#000000"><b>takes</b></font> <font
        color="#0055aa"><b>nothing</b></font> <font color="#000000"><b>returns</b></font> <span
        style="background-color: #ffffff"><font color="#000000">B</font></span>
     <font color="#000000"><b>local</b></font> <span style="background-color: #ffffff"><font
        color="#000000">C</font></span> <span style="background-color: #ffffff"><font
        color="#000000">s</font></span>=<span style="background-color: #ffffff"><font
        color="#000000">C</font></span><font color="#0000aa">.</font><span style="background-color: #ffffff"><font
        color="#000000">allocate</font></span>() <font color="#008800">//C is a child of B that got a custom create method that takes nothing, so allocate takes nothing as well.</font>
       <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">s</font></span><font color="#0000aa">.</font><span style="background-color: #ffffff"><font
        color="#000000">x</font></span>=<span style="background-color: #ffffff"><font
        color="#000000">s</font></span><font color="#0000aa">.</font><span style="background-color: #ffffff"><font
        color="#000000">x</font></span>*<span style="background-color: #ffffff"><font
        color="#000000">s</font></span><font color="#0000aa">.</font><span style="background-color: #ffffff"><font
        color="#000000">x</font></span> <font color="#008800">//once again reusing the parents' members.</font>
     <font color="#000000"><b>return</b></font> <span style="background-color: #ffffff"><font
        color="#000000">s</font></span>
    <font color="#000000"><b>endmethod</b></font>
<font color="#000000"><b>endstruct</b></font>
</pre>

<p>If an struct has declared create to be private, it is impossible to extend it. Structs cannot use private members
    from parent structs.</p>

<p>The behaviour of the onDestroy method is special in this case, if in the last example, A,B and C had an onDestroy
    method each, destroying an instance of a C would call C.onDestroy(), B.onDestroy() and A.onDestroy() (in that
    order)</p>

<p>It is possible to extend an struct that extends an interface, in this case, the child that extends the interface
    directly is forced to implement the interface&apos;s methods, but its childs are not. But it is possible for them to
    replace them again.</p>

<pre>
<font color="#000000"><b>interface</b></font> <span style="background-color: #ffffff"><font
        color="#000000">myinterface</font></span>
   <font color="#000000"><b>method</b></font> <span style="background-color: #ffffff"><font
        color="#000000">processunit</font></span> <font color="#000000"><b>takes</b></font> <font color="#0055aa"><b>unit</b></font> <span
        style="background-color: #ffffff"><font color="#000000">u</font></span> <font
        color="#000000"><b>returns</b></font> <font color="#0055aa"><b>nothing</b></font>
   <font color="#000000"><b>method</b></font> <span style="background-color: #ffffff"><font
        color="#000000">onAnEvent</font></span> <font color="#000000"><b>takes</b></font> <font color="#0055aa"><b>nothing</b></font> <font
        color="#000000"><b>returns</b></font> <font color="#0055aa"><b>boolean</b></font>
<font color="#000000"><b>endinterface</b></font>

<font color="#000000"><b>struct</b></font> <span style="background-color: #ffffff"><font color="#000000">A</font></span> <font
        color="#000000"><b>extends</b></font> <span style="background-color: #ffffff"><font
        color="#000000">myinterface</font></span>

   <font color="#000000"><b>method</b></font> <span style="background-color: #ffffff"><font
        color="#000000">processunit</font></span> <font color="#000000"><b>takes</b></font> <font color="#0055aa"><b>unit</b></font> <span
        style="background-color: #ffffff"><font color="#000000">u</font></span> <font
        color="#000000"><b>returns</b></font> <font color="#0055aa"><b>nothing</b></font>
       <font color="#000000"><b>call</b></font> <span style="background-color: #ffffff"><font
        color="#000000">KillUnit</font></span>(<span style="background-color: #ffffff"><font
        color="#000000">u</font></span>)
   <font color="#000000"><b>endmethod</b></font>

   <font color="#000000"><b>method</b></font> <span style="background-color: #ffffff"><font
        color="#000000">onAnEvent</font></span> <font color="#000000"><b>takes</b></font> <font color="#0055aa"><b>nothing</b></font> <font
        color="#000000"><b>returns</b></font> <font color="#0055aa"><b>boolean</b></font>
       <font color="#000000"><b>return</b></font> <font color="#0000aa">false</font>
   <font color="#000000"><b>endmethod</b></font>
<font color="#000000"><b>endstruct</b></font>

<font color="#000000"><b>struct</b></font> <span style="background-color: #ffffff"><font color="#000000">B</font></span> <font
        color="#000000"><b>extends</b></font> <span style="background-color: #ffffff"><font
        color="#000000">A</font></span>

   <font color="#000000"><b>method</b></font> <span style="background-color: #ffffff"><font
        color="#000000">processunit</font></span> <font color="#000000"><b>takes</b></font> <font color="#0055aa"><b>unit</b></font> <span
        style="background-color: #ffffff"><font color="#000000">u</font></span> <font
        color="#000000"><b>returns</b></font> <font color="#0055aa"><b>nothing</b></font>
      <font color="#008800">//we have just replaced A&amp;apos;s processunit method,</font>
      <font color="#008800">//if an interface variable of type myinterface holds an instance of </font>
      <font color="#008800">//type B it will explode the unit.</font>
      <font color="#000000"><b>call</b></font> <span style="background-color: #ffffff"><font color="#000000">ExplodeUnitBJ</font></span>(<span
        style="background-color: #ffffff"><font color="#000000">u</font></span>)
   <font color="#000000"><b>endmethod</b></font>
   <font color="#008800">// we are implementing processunit but we do not have to implement onAnEvent   </font>

<font color="#000000"><b>endstruct</b></font>

</pre>

<p>If you plan using interface.create() you will have to be careful once again about constructors with arguments, if an
    interface is declared with the condition that create takes nothing every child (,grandchild, etc) of the interface
    will be affected by this condition.</p>

<h3><a name='stubmeth'></a>Stub methods</h3>

<p>stub methods can simply be rewriten by child structs. An example should help:</p>

<font face="monospace">
    <font color="#000000"><b>struct</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">Parent</font></span><br/>
    <br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>stub</b></font>&nbsp;<font color="#000000"><b>method</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">xx</font></span>&nbsp;<font color="#000000"><b>takes</b></font>&nbsp;<font
        color="#7777cc"><b>nothing</b></font>&nbsp;<font color="#000000"><b>returns</b></font>&nbsp;<font
        color="#7777cc"><b>nothing</b></font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">BJDebugMsg</font></span>(<font color="#0000cc"><i>&quot;Parent&quot;</i></font>)<br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>endmethod</b></font><br/>
    <br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>method</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">doSomething</font></span>&nbsp;<font color="#000000"><b>takes</b></font>&nbsp;<font
        color="#7777cc"><b>nothing</b></font>&nbsp;<font color="#000000"><b>returns</b></font>&nbsp;<font
        color="#7777cc"><b>nothing</b></font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<font color="#000066">this</font><font
        color="#000066">.</font><span style="background-color: #ffffff"><font color="#000000">xx</font></span>()<br/>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<font color="#000066">this</font><font
        color="#000066">.</font><span style="background-color: #ffffff"><font color="#000000">xx</font></span>()<br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>endmethod</b></font><br/>
    <br/>
    <font color="#000000"><b>endstruct</b></font><br/>
    <br/>
    <font color="#000000"><b>struct</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">ChildA</font></span>&nbsp;<font color="#000000"><b>extends</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">Parent</font></span><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>method</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">xx</font></span>&nbsp;<font color="#000000"><b>takes</b></font>&nbsp;<font
        color="#7777cc"><b>nothing</b></font>&nbsp;<font color="#000000"><b>returns</b></font>&nbsp;<font
        color="#7777cc"><b>nothing</b></font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">BJDebugMsg</font></span>(<font color="#0000cc"><i>&quot;-
    Child A -&quot;</i></font>)<br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>endmethod</b></font><br/>
    <font color="#000000"><b>endstruct</b></font><br/>
    <br/>
    <font color="#000000"><b>struct</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">ChildB</font></span>&nbsp;<font color="#000000"><b>extends</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">Parent</font></span><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>method</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">xx</font></span>&nbsp;<font color="#000000"><b>takes</b></font>&nbsp;<font
        color="#7777cc"><b>nothing</b></font>&nbsp;<font color="#000000"><b>returns</b></font>&nbsp;<font
        color="#7777cc"><b>nothing</b></font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">BJDebugMsg</font></span>(<font color="#0000cc"><i>&quot;-
    Child B --&quot;</i></font>)<br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>endmethod</b></font><br/>
    <font color="#000000"><b>endstruct</b></font><br/>
    <br/>
    <br/>
    <font color="#000000"><b>function</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">test</font></span>&nbsp;<font color="#000000"><b>takes</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font>&nbsp;<font
        color="#000000"><b>returns</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font><br/>
    &nbsp;<font color="#000000"><b>local</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">Parent</font></span>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">P</font></span>&nbsp;= <span
        style="background-color: #ffffff"><font color="#000000">Parent</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">create</font></span>()<br/>
    &nbsp;<font color="#000000"><b>local</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">Parent</font></span>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">A</font></span>&nbsp;= <span
        style="background-color: #ffffff"><font color="#000000">ChildA</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">create</font></span>()<br/>
    &nbsp;<font color="#000000"><b>local</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">Parent</font></span>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">B</font></span>&nbsp;= <span
        style="background-color: #ffffff"><font color="#000000">ChildB</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">create</font></span>()<br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#008800">//notice the variables are of the 'Parent' type.</font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">P</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">doSomething</font></span>() <font color="#008800">//Shows 'Parent' twice</font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">A</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">doSomething</font></span>() <font color="#008800">//Shows 'Child A' twice</font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">B</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">doSomething</font></span>() <font color="#008800">//Shows 'Child B' twice</font><br/>
    <font color="#000000"><b>endfunction</b></font><br/>
    <br/>
</font>

<p>Just notice there are differences between these and interfaces, first of all, interfaces require you to make the
    methods. They also allow the .exists().</p>

<h3><a name='super'></a>super</h3>

<p>When you are extending another struct, it could happen that the struct is extending an interface, or that the method
    you are coding is replacing a stub method. What happens if you want to call the parent&apos;s version of the method?
    It is not possible without specifying that you want to do it. (Else it will end up calling the child&apos;s method
    instead).</p>
<p><strong>super</strong> is meant to allow that, it works in the same way as this, but it forces the parent&apos;s
    method to be called:</p>

<font face="monospace">
    <font color="#000000"><b>struct</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">Parent</font></span><br>
    <br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>stub</b></font>&nbsp;<font color="#000000"><b>method</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">xx</font></span>&nbsp;<font color="#000000"><b>takes</b></font>&nbsp;<font
        color="#7777cc"><b>nothing</b></font>&nbsp;<font color="#000000"><b>returns</b></font>&nbsp;<font
        color="#7777cc"><b>nothing</b></font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">BJDebugMsg</font></span>(<font color="#0000cc"><i>&quot;Parent&quot;</i></font>)<br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>endmethod</b></font><br>
    <br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>method</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">doSomething</font></span>&nbsp;<font color="#000000"><b>takes</b></font>&nbsp;<font
        color="#7777cc"><b>nothing</b></font>&nbsp;<font color="#000000"><b>returns</b></font>&nbsp;<font
        color="#7777cc"><b>nothing</b></font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<font color="#000066">this</font><font
        color="#000066">.</font><span style="background-color: #ffffff"><font color="#000000">xx</font></span>()<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<font color="#000066">this</font><font
        color="#000066">.</font><span style="background-color: #ffffff"><font color="#000000">xx</font></span>()<br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>endmethod</b></font><br>
    <br>
    <font color="#000000"><b>endstruct</b></font><br>
    <br>
    <font color="#000000"><b>struct</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">ChildA</font></span>&nbsp;<font color="#000000"><b>extends</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">Parent</font></span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>method</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">xx</font></span>&nbsp;<font color="#000000"><b>takes</b></font>&nbsp;<font
        color="#7777cc"><b>nothing</b></font>&nbsp;<font color="#000000"><b>returns</b></font>&nbsp;<font
        color="#7777cc"><b>nothing</b></font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">BJDebugMsg</font></span>(<font color="#0000cc"><i>&quot;-
    Child A -&quot;</i></font>)<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">super</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">xx</font></span>()<br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>endmethod</b></font><br>
    <font color="#000000"><b>endstruct</b></font><br>
    <br>
    <font color="#000000"><b>struct</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">ChildB</font></span>&nbsp;<font color="#000000"><b>extends</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">Parent</font></span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>method</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">xx</font></span>&nbsp;<font color="#000000"><b>takes</b></font>&nbsp;<font
        color="#7777cc"><b>nothing</b></font>&nbsp;<font color="#000000"><b>returns</b></font>&nbsp;<font
        color="#7777cc"><b>nothing</b></font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">BJDebugMsg</font></span>(<font color="#0000cc"><i>&quot;-
    Child B --&quot;</i></font>)<br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>endmethod</b></font><br>
    <font color="#000000"><b>endstruct</b></font><br>
    <br>
    <br>
    <font color="#000000"><b>function</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">test</font></span>&nbsp;<font color="#000000"><b>takes</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font>&nbsp;<font
        color="#000000"><b>returns</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font><br>
    &nbsp;<font color="#000000"><b>local</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">Parent</font></span>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">P</font></span>&nbsp;= <span
        style="background-color: #ffffff"><font color="#000000">Parent</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">create</font></span>()<br>
    &nbsp;<font color="#000000"><b>local</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">Parent</font></span>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">A</font></span>&nbsp;= <span
        style="background-color: #ffffff"><font color="#000000">ChildA</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">create</font></span>()<br>
    &nbsp;<font color="#000000"><b>local</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">Parent</font></span>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">B</font></span>&nbsp;= <span
        style="background-color: #ffffff"><font color="#000000">ChildB</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">create</font></span>()<br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#008800">//notice the variables are of the 'Parent' type.</font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">P</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">doSomething</font></span>() <font color="#008800">//Shows 'Parent' twice</font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">A</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">doSomething</font></span>() <font color="#008800">//Shows 'Child A|nParent' twice</font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">B</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">doSomething</font></span>() <font color="#008800">//Shows 'Child B' twice</font><br>
    <font color="#000000"><b>endfunction</b></font><br>
    <br>
</font>


<h3><a name='dynarr'></a>Dynamic arrays</h3>
<p>Dynamic arrays are arrays you can instanciate dynamically, EACH custom array type has got a limit of 8190 TOTAL
    indexes, that means that an array type of size 100 has got an 81 instances limit.</p>

<p>They are kind of easy to declare and use, and somehow share syntax with structs.</p>

<p>You simply make a line outside any function/struct declaration: type &lt;nameoftype&gt; extends &lt;nameofbasetype&gt;
    array [ &lt;size&gt;] Where size is an integer value or constant global.</p>

<p>Then you can simply create/usem them in a similar way to structs and use the [] operator to access its indexes,
    dynamic arrays have also got an static size constant</p>

<pre>
<font color="#000000"><b>type</b></font> <span style="background-color: #ffffff"><font
        color="#000000">arsample</font></span> <font color="#000000"><b>extends</b></font> <font color="#7777cc"><b>integer</b></font> <font
        color="#7777cc"><b>array</b></font>[<font color="#000066">8</font>]

<font color="#000000"><b>function</b></font> <span style="background-color: #ffffff"><font
        color="#000000">test</font></span> <font color="#000000"><b>takes</b></font> <font
        color="#7777cc"><b>nothing</b></font> <font color="#000000"><b>returns</b></font> <span
        style="background-color: #ffffff"><font color="#000000">arsample</font></span>
 <font color="#000000"><b>local</b></font> <span style="background-color: #ffffff"><font color="#000000">arsample</font></span> <span
        style="background-color: #ffffff"><font color="#000000">r</font></span>=<span style="background-color: #ffffff"><font
        color="#000000">arsample</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">create</font></span>()
 <font color="#000000"><b>local</b></font> <font color="#7777cc"><b>integer</b></font> <span
        style="background-color: #ffffff"><font color="#000000">i</font></span>=<font color="#000066">0</font>
     <font color="#000000"><b>loop</b></font>
         <font color="#000000"><b>exitwhen</b></font> <span style="background-color: #ffffff"><font
        color="#000000">i</font></span>==<span style="background-color: #ffffff"><font
        color="#000000">arsample</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">size</font></span> <font color="#008800">//holds size of the array type</font>
         <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font color="#000000">r</font></span>[<span
        style="background-color: #ffffff"><font color="#000000">i</font></span>]=<span
        style="background-color: #ffffff"><font color="#000000">i</font></span>
         <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font color="#000000">i</font></span>=<span
        style="background-color: #ffffff"><font color="#000000">i</font></span>+<font color="#000066">1</font>
     <font color="#000000"><b>endloop</b></font>
 <font color="#000000"><b>return</b></font> <span style="background-color: #ffffff"><font
        color="#000000">r</font></span>
<font color="#000000"><b>endfunction</b></font>

<font color="#000000"><b>function</b></font> <span style="background-color: #ffffff"><font color="#000000">test2</font></span> <font
        color="#000000"><b>takes</b></font> <font color="#7777cc"><b>nothing</b></font> <font
        color="#000000"><b>returns</b></font> <span style="background-color: #ffffff"><font
        color="#000000">arsample</font></span>
 <font color="#000000"><b>local</b></font> <span style="background-color: #ffffff"><font color="#000000">arsample</font></span> <span
        style="background-color: #ffffff"><font color="#000000">r</font></span>=<span style="background-color: #ffffff"><font
        color="#000000">test</font></span>()
 <font color="#000000"><b>local</b></font> <font color="#7777cc"><b>integer</b></font> <span
        style="background-color: #ffffff"><font color="#000000">i</font></span>=<font color="#000066">0</font>
     <font color="#000000"><b>loop</b></font>
         <font color="#000000"><b>exitwhen</b></font> <span style="background-color: #ffffff"><font
        color="#000000">i</font></span>==<span style="background-color: #ffffff"><font
        color="#000000">arsample</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">size</font></span>
         <font color="#000000"><b>call</b></font> <span style="background-color: #ffffff"><font color="#000000">BJDebugMsg</font></span>(<span
        style="background-color: #ffffff"><font color="#000000">I2S</font></span>(<span
        style="background-color: #ffffff"><font color="#000000">r</font></span>[<span style="background-color: #ffffff"><font
        color="#000000">i</font></span>]))
         <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font color="#000000">i</font></span>=<span
        style="background-color: #ffffff"><font color="#000000">i</font></span>+<font color="#000066">1</font>
     <font color="#000000"><b>endloop</b></font>
 <font color="#000000"><b>return</b></font> <span style="background-color: #ffffff"><font
        color="#000000">r</font></span>
<font color="#000000"><b>endfunction</b></font>
</pre>

<p>You can extend arrays of any type, even of custom types (structs, interfaces, other dynamic arrays) thus making a
    dynamic array of dynamic arrays, a matrix like syntax is possible:</p>

<pre>
<font color="#000000"><b>type</b></font> <span style="background-color: #ffffff"><font color="#000000">iar</font></span> <font
        color="#000000"><b>extends</b></font> <font color="#7777cc"><b>integer</b></font> <font
        color="#7777cc"><b>array</b></font>[<font color="#000066">3</font>]
<font color="#000000"><b>type</b></font> <span style="background-color: #ffffff"><font
        color="#000000">iar_ar</font></span> <font color="#000000"><b>extends</b></font> <span
        style="background-color: #ffffff"><font color="#000000">iar</font></span> <font
        color="#7777cc"><b>array</b></font>[<font color="#000066">3</font>]

<font color="#000000"><b>function</b></font> <span style="background-color: #ffffff"><font
        color="#000000">test</font></span> <font color="#000000"><b>takes</b></font> <font
        color="#7777cc"><b>nothing</b></font> <font color="#000000"><b>returns</b></font> <span
        style="background-color: #ffffff"><font color="#000000">arsample</font></span>
 <font color="#000000"><b>local</b></font> <span style="background-color: #ffffff"><font
        color="#000000">iar_ar</font></span> <span style="background-color: #ffffff"><font
        color="#000000">r</font></span>=<span style="background-color: #ffffff"><font
        color="#000000">iar_ar</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">create</font></span>()
 <font color="#000000"><b>local</b></font> <font color="#7777cc"><b>integer</b></font> <span
        style="background-color: #ffffff"><font color="#000000">i</font></span>=<font color="#000066">0</font>
 <font color="#000000"><b>local</b></font> <font color="#7777cc"><b>integer</b></font> <span
        style="background-color: #ffffff"><font color="#000000">j</font></span>
     <font color="#000000"><b>loop</b></font>
         <font color="#000000"><b>exitwhen</b></font> <span style="background-color: #ffffff"><font
        color="#000000">i</font></span>==<span style="background-color: #ffffff"><font
        color="#000000">iar_ar</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">size</font></span> <font color="#008800">//holds size of the array type</font>
         <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font color="#000000">r</font></span>[<span
        style="background-color: #ffffff"><font color="#000000">i</font></span>]=<span
        style="background-color: #ffffff"><font color="#000000">iar</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">create</font></span>()
         <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font color="#000000">j</font></span>=<font
        color="#000066">0</font>
         <font color="#000000"><b>loop</b></font>
             <font color="#000000"><b>exitwhen</b></font> <span style="background-color: #ffffff"><font color="#000000">j</font></span>==<span
        style="background-color: #ffffff"><font color="#000000">iar</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">size</font></span>
             <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">r</font></span>[<span style="background-color: #ffffff"><font
        color="#000000">i</font></span>][<span style="background-color: #ffffff"><font color="#000000">j</font></span>]=<span
        style="background-color: #ffffff"><font color="#000000">j</font></span>*<span style="background-color: #ffffff"><font
        color="#000000">i</font></span>
             <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">j</font></span>=<span style="background-color: #ffffff"><font
        color="#000000">j</font></span>+<font color="#000066">1</font>
         <font color="#000000"><b>endloop</b></font>

         <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font color="#000000">i</font></span>=<span
        style="background-color: #ffffff"><font color="#000000">i</font></span>+<font color="#000066">1</font>
     <font color="#000000"><b>endloop</b></font>
 <font color="#000000"><b>return</b></font> <span style="background-color: #ffffff"><font
        color="#000000">r</font></span>
<font color="#000000"><b>endfunction</b></font>


</pre>

<p>And structs may have these arrays as members thus allowing array members for instances (non-static)</p>

<pre>

<font color="#000000"><b>type</b></font> <span style="background-color: #ffffff"><font color="#000000">stackarray</font></span> <font
        color="#000000"><b>extends</b></font> <font color="#7777cc"><b>integer</b></font> <font
        color="#7777cc"><b>array</b></font> [<font color="#000066">20</font>]

<font color="#000000"><b>struct</b></font> <span style="background-color: #ffffff"><font
        color="#000000">stack</font></span>
   <font color="#000000"><b>private</b></font> <span style="background-color: #ffffff"><font
        color="#000000">stackarray</font></span> <span style="background-color: #ffffff"><font color="#000000">V</font></span>
   <font color="#000000"><b>private</b></font> <font color="#7777cc"><b>integer</b></font> <span
        style="background-color: #ffffff"><font color="#000000">N</font></span>=<font color="#000066">0</font>

   <font color="#000000"><b>method</b></font> <span style="background-color: #ffffff"><font
        color="#000000">Create</font></span> <font color="#000000"><b>takes</b></font> <font
        color="#7777cc"><b>nothing</b></font> <font color="#000000"><b>returns</b></font> <span
        style="background-color: #ffffff"><font color="#000000">stack</font></span>
    <font color="#000000"><b>local</b></font> <span style="background-color: #ffffff"><font color="#000000">stack</font></span> <span
        style="background-color: #ffffff"><font color="#000000">s</font></span>=<span style="background-color: #ffffff"><font
        color="#000000">stack</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">create</font></span>()
       <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">s</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">V</font></span>=<span style="background-color: #ffffff"><font color="#000000">stackarray</font></span><font
        color="#000066">.</font><span style="background-color: #ffffff"><font color="#000000">create</font></span>()
       <font color="#000000"><b>if</b></font> (<span style="background-color: #ffffff"><font
        color="#000000">s</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">V</font></span>==<font color="#000066">0</font>) <font color="#000000"><b>then</b></font>
           <font color="#666666">debug</font> <font color="#000000"><b>call</b></font> <span
        style="background-color: #ffffff"><font color="#000000">BJDebugMsg</font></span>(<font color="#0000cc"><i>&quot;Warning: not enough space for stack array&quot;</i></font>)
           <font color="#000000"><b>return</b></font> <font color="#000066">0</font>
       <font color="#000000"><b>endif</b></font>
   <font color="#000000"><b>endmethod</b></font>

   <font color="#000000"><b>method</b></font> <span style="background-color: #ffffff"><font color="#000000">push</font></span> <font
        color="#000000"><b>takes</b></font> <font color="#7777cc"><b>integer</b></font> <span
        style="background-color: #ffffff"><font color="#000000">i</font></span> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>nothing</b></font>
       <font color="#000000"><b>if</b></font> (<font color="#000066">this</font><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">N</font></span>==<span
        style="background-color: #ffffff"><font color="#000000">stackarray</font></span><font
        color="#000066">.</font><span style="background-color: #ffffff"><font color="#000000">size</font></span>) <font
        color="#000000"><b>then</b></font>
           <font color="#666666">debug</font> <font color="#000000"><b>call</b></font> <span
        style="background-color: #ffffff"><font color="#000000">BJDebugMsg</font></span>(<font color="#0000cc"><i>&quot;Warning: stack is full&quot;</i></font>)
       <font color="#000000"><b>else</b></font>
           <font color="#000000"><b>set</b></font> <font color="#000066">this</font><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">V</font></span>[<font color="#000066">this</font><font
        color="#000066">.</font><span style="background-color: #ffffff"><font color="#000000">N</font></span>]=<span
        style="background-color: #ffffff"><font color="#000000">i</font></span>
           <font color="#000000"><b>set</b></font> <font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">N</font></span> = <font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">N</font></span> +<font color="#000066">1</font> <font
        color="#008800">//remember this syntax is valid as well</font>
       <font color="#000000"><b>endif</b></font>
   <font color="#000000"><b>endmethod</b></font>

   <font color="#000000"><b>method</b></font> <span style="background-color: #ffffff"><font
        color="#000000">pop</font></span> <font color="#000000"><b>takes</b></font> <font color="#7777cc"><b>nothing</b></font> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>nothing</b></font>
       <font color="#000000"><b>if</b></font> (<font color="#000066">this</font><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">N</font></span>&gt;<font color="#000066">0</font>) <font
        color="#000000"><b>then</b></font>
           <font color="#000000"><b>set</b></font> <font color="#000066">this</font><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">N</font></span>=<font color="#000066">this</font><font
        color="#000066">.</font><span style="background-color: #ffffff"><font color="#000000">N</font></span>-<font
        color="#000066">1</font>
       <font color="#000000"><b>else</b></font>
           <font color="#666666">debug</font> <font color="#000000"><b>call</b></font> <span
        style="background-color: #ffffff"><font color="#000000">BJDebugMsg</font></span>(<font color="#0000cc"><i>&quot;Warning: attempt to pop an empty stack&quot;</i></font>);
       <font color="#000000"><b>endif</b></font>
   <font color="#000000"><b>endmethod</b></font>

   <font color="#000000"><b>method</b></font> <span style="background-color: #ffffff"><font
        color="#000000">top</font></span> <font color="#000000"><b>takes</b></font> <font color="#7777cc"><b>nothing</b></font> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>integer</b></font>
       <font color="#000000"><b>return</b></font> <font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">V</font></span><font color="#000066">[.</font><span style="background-color: #ffffff"><font
        color="#000000">N</font></span>-<font color="#000066">1</font>]
   <font color="#000000"><b>endmethod</b></font>

   <font color="#000000"><b>method</b></font> <span style="background-color: #ffffff"><font color="#000000">empty</font></span> <font
        color="#000000"><b>takes</b></font> <font color="#7777cc"><b>nothing</b></font> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>boolean</b></font>
       <font color="#000000"><b>return</b></font> (<font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">N</font></span>==<font color="#000066">0</font>)
   <font color="#000000"><b>endmethod</b></font>

   <font color="#000000"><b>method</b></font> <span style="background-color: #ffffff"><font
        color="#000000">onDestroy</font></span> <font color="#000000"><b>takes</b></font> <font color="#7777cc"><b>nothing</b></font> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>nothing</b></font>
       <font color="#000000"><b>call</b></font> <font color="#000066">this</font><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">V</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">destroy</font></span>()
   <font color="#000000"><b>endmethod</b></font>
<font color="#000000"><b>endstruct</b></font>
</pre>

<p>As you may notice, if there is no space for a new instance, the create method of arrays returns 0. It will also warn
    you automatically if compiled in debug mode</p>

<p>Dynamic arrays got the .size member that allows you to easily access the size you used to declare the array type.</p>


<h3><a name='arrmemb'></a>Array members</h3>
<p>Structs may have array members but you also require to declare the size of them.</p>

<pre>
<font color="#000000"><b>struct</b></font> <span style="background-color: #ffffff"><font
        color="#000000">stack</font></span>
   <font color="#000000"><b>private</b></font> <font color="#7777cc"><b>integer</b></font> <font color="#7777cc"><b>array</b></font> <span
        style="background-color: #ffffff"><font color="#000000">V</font></span>[<font color="#000066">100</font>]
   <font color="#000000"><b>private</b></font> <font color="#7777cc"><b>integer</b></font> <span
        style="background-color: #ffffff"><font color="#000000">N</font></span>=<font color="#000066">0</font>

   <font color="#000000"><b>method</b></font> <span style="background-color: #ffffff"><font color="#000000">push</font></span> <font
        color="#000000"><b>takes</b></font> <font color="#7777cc"><b>integer</b></font> <span
        style="background-color: #ffffff"><font color="#000000">i</font></span> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>nothing</b></font>
      <font color="#000000"><b>set</b></font> <font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">V</font></span><font color="#000066">[.</font><span
        style="background-color: #ffffff"><font color="#000000">N</font></span>]=<span
        style="background-color: #ffffff"><font color="#000000">i</font></span>
      <font color="#000000"><b>set</b></font> <font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">N</font></span><font color="#000066">=.</font><span
        style="background-color: #ffffff"><font color="#000000">N</font></span>+<font color="#000066">1</font>
   <font color="#000000"><b>endmethod</b></font>

   <font color="#000000"><b>method</b></font> <span style="background-color: #ffffff"><font
        color="#000000">pop</font></span> <font color="#000000"><b>takes</b></font> <font color="#7777cc"><b>nothing</b></font> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>nothing</b></font>
      <font color="#000000"><b>set</b></font> <font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">N</font></span><font color="#000066">=.</font><span
        style="background-color: #ffffff"><font color="#000000">N</font></span>-<font color="#000066">1</font>
   <font color="#000000"><b>endmethod</b></font>

   <font color="#000000"><b>method</b></font> <span style="background-color: #ffffff"><font
        color="#000000">top</font></span> <font color="#000000"><b>takes</b></font> <font color="#7777cc"><b>nothing</b></font> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>integer</b></font>
      <font color="#000000"><b>return</b></font> <font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">V</font></span><font color="#000066">[.</font><span
        style="background-color: #ffffff"><font color="#000000">N</font></span>-<font color="#000066">1</font>]
   <font color="#000000"><b>endmethod</b></font>

   <font color="#000000"><b>method</b></font> <span style="background-color: #ffffff"><font color="#000000">empty</font></span> <font
        color="#000000"><b>takes</b></font> <font color="#7777cc"><b>nothing</b></font> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>boolean</b></font>
      <font color="#000000"><b>return</b></font> (<font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">N</font></span>==<font color="#000066">0</font>)
   <font color="#000000"><b>endmethod</b></font>

   <font color="#000000"><b>method</b></font> <span style="background-color: #ffffff"><font color="#000000">full</font></span> <font
        color="#000000"><b>takes</b></font> <font color="#7777cc"><b>nothing</b></font> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>boolean</b></font>
      <font color="#000000"><b>return</b></font> (<font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">N</font></span><font color="#000066">==.</font><span style="background-color: #ffffff"><font
        color="#000000">V</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">size</font></span>)
   <font color="#000000"><b>endmethod</b></font>

<font color="#000000"><b>endstruct</b></font>

</pre>

<p>In some way, this is syntax candy for declaring a new array type and making it a member of the struct, but this way
    is a little more optimizer and handles the array allocation/deallocation for you, with the exchange of some
    limitations.</p>

<p>Notice that this drastically reduces the instances limit of an struct type, for example, we can only have 80
    instances (8190 div 100) of the above declared stack object.</p>

<p>An struct may have as many array members as you can type, notice that the array with the maximum size is the one
    considered when setting the instances limit, so if an struct has 2 array members, one of size 4 and one of size 100,
    the struct will have a limit of 80 instances.</p>

<p>The disadvantage of this method over declaring the dynamic array type separatedly is that you have less freedom in
    what concerns assigning to the member another array you create in other occation and things like that... The
    advantage is that it is faster and takes less code.</p>

<p>As dynamic arrays, array members may also use the .size field.</p>

<h3><a name='delegat'></a>Delegate</h3>
<p>So far, we&apos;ve seen many things, interfaces, structs extending other structs, operators, dynamic arrays. You
    might be asking yourself, is it possible he would add <i>another</i> way to confuse me like heck? Do not despair!
    Delegate is the answer.</p>

<p><b>delegate</b> is a strange feature, a delegate is just a member of the struct that does stuff for it. The struct
    just delegates the work to another object, in this case, work would mean &apos;methods&apos;. It would appear as
    pointless or just an abbreviation, however it can be very useful and a interesting alternative to extends. The whole
    delegate idea is in use in some other languages, just notice that Jass is not very dynamic and vJass does inherit a
    lot of its flaws. For the better or the worse, delegation is a completely compile-time deal in the case of vJass.
</p>

<p>A delegate does the struct&apos;s job, that is a very simple way to put it, a more complicated way would be, that
    during compile, if jasshelper cannot find a certain requested member of method, it will begin to look up for that
    member in the struct&apos;s delegates, if it finds this member in one of the delegates it will then compile it as a
    call to the delegate&apos;s member instead.</p>

<font face="monospace">
    <font color="#008800">//Array structs are hard to explain, but should be simple to understand with an example</font><br/>
    <br/>
    <font color="#000000"><b>struct</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">A</font></span><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>private</b></font>&nbsp;<font color="#7777cc"><b>real</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">x</font></span><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>private</b></font>&nbsp;<font color="#7777cc"><b>real</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">y</font></span><br/>
    <br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>public</b></font>&nbsp;<font color="#000000"><b>method</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">performAction</font></span>&nbsp;<font
        color="#000000"><b>takes</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font>&nbsp;<font color="#000000"><b>returns</b></font>&nbsp;<font
        color="#7777cc"><b>nothing</b></font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">DestroyEffect</font></span>( <span
        style="background-color: #ffffff"><font color="#000000">AddSpecialEffect</font></span>(<font color="#0000cc"><i>&quot;path\\model.mdl&quot;</i></font>,
    <font color="#000066">this</font><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">x</font></span>, <font color="#000066">this</font><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">y</font></span>) )<br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>endmethod</b></font><br/>
    <br/>
    <font color="#000000"><b>endstruct</b></font><br/>
    <br/>
    <font color="#000000"><b>struct</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">B</font></span><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>delegate</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">A</font></span>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">deleg</font></span><br/>
    <br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>static</b></font>&nbsp;<font color="#000000"><b>method</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">create</font></span>&nbsp;<font
        color="#000000"><b>takes</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font>&nbsp;<font color="#000000"><b>returns</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">B</font></span><br/>
    &nbsp;&nbsp;&nbsp;&nbsp; <font color="#000000"><b>local</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">B</font></span>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">b</font></span>&nbsp;= <span
        style="background-color: #ffffff"><font color="#000000">B</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">allocate</font></span>()<br/>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>set</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">B</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">deleg</font></span>&nbsp;= <span
        style="background-color: #ffffff"><font color="#000000">A</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">create</font></span>()<br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>endmethod</b></font><br/>
    <br/>
    <font color="#000000"><b>endstruct</b></font><br/>
    <br/>
    <font color="#000000"><b>function</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">testsomething</font></span>&nbsp;<font
        color="#000000"><b>takes</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font>&nbsp;<font color="#000000"><b>returns</b></font>&nbsp;<font
        color="#7777cc"><b>nothing</b></font><br/>
    &nbsp;<font color="#000000"><b>local</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">B</font></span>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">myB</font></span>&nbsp;= <span style="background-color: #ffffff"><font color="#000000">B</font></span><font
        color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">create</font></span>()<br/>
    <br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">myB</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">performAction</font></span>()<br/>
    <br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#008800">//Since performAction() is not a member of struct B, jasshelper will
    check out the</font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#008800">//delegator, it does have a method called performAction, so it will
    just try to call</font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#008800">//it, the result would be the same as:</font><br/>
    <br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">myB</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">deleg</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">performAction</font></span>()<br/>
    <br/>
    <font color="#000000"><b>endfunction</b></font><br/>
    <br/>
</font>

<p>Some considerations:</p>
<ul>
    <li>You can have multiple delegates, however that should probably be the exception rather than the rule.</li>
    <li>jasshelper gives priority to the struct&apos;s members before its delegates&apos; this means that if both the
        struct and a delegate have the same
        member, jasshelper will always consider the struct&apos;s over the delegate&apos;s.
    </li>

    <li>Between delegates in the same struct, the priorities are the same as the declaration order.</li>
    <li>You can do a lot of quacky things like delegating to an array member, you will even be able to use .size() and
        [] on the struct in that case.
    </li>
    <li>You can also do non-sense as making a integer member a delegate, this will not cause a syntax error but does not
        really do much by itself, considering that integers have no members.
    </li>
    <li>Right now, you cannot make a delegate&apos;s method fulfill a interface&apos;s rules, for example if struct B
        was extending a certain interface that required a method called performAction, jasshelper would not recognize
        the delegate&apos;s method and will cause a syntax error, this might change in the future.</p>
    <li>You would usually have to initialize the delegate if you do not want bugs in your code.</li>
    <li>You can have a private delegate, it would only be accessible by outside code in cases where a member is
        necessary.
    </li>
    <li>If you try to call/use a delegate&apos;s private member, it will probably appear as a syntax error about not
        being able to find it in the struct rather than telling you that it is a private member of the delegate.
    </li>
</ul>

<h3><a name='thistype'></a>thistype</h3>
<p>The thistype keyword behaves exactly as the struct&apos;s name in code that is inside a struct.</p>

<font face="monospace">
    <font color="#008800">//The next code,</font><br>
    <font color="#000000"><b>struct</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">test</font></span>&nbsp;<br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#7777cc"><b>thistype</b></font>&nbsp;<font color="#7777cc"><b>array</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">ts</font></span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>method</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">tester</font></span>&nbsp;<font
        color="#000000"><b>takes</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font>&nbsp;<font color="#000000"><b>returns</b></font>&nbsp;<font
        color="#7777cc"><b>thistype</b></font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>return</b></font>&nbsp;<font
        color="#7777cc"><b>thistype</b></font><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">allocate</font></span>()<br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>endmethod</b></font><br>
    <font color="#000000"><b>endstruct</b></font><br>
    <br>
    <font color="#008800">//Is equivalent to:</font><br>
    <br>
    <font color="#000000"><b>struct</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">test</font></span>&nbsp;<br>
    &nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #ffffff"><font color="#000000">test</font></span>&nbsp;<font
        color="#7777cc"><b>array</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">ts</font></span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>method</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">tester</font></span>&nbsp;<font
        color="#000000"><b>takes</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font>&nbsp;<font color="#000000"><b>returns</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">test</font></span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>return</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">test</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">allocate</font></span>()<br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>endmethod</b></font><br>
    <font color="#000000"><b>endstruct</b></font><br></font>

<p>The intended usage for thistype, is when it is actually necessary, e.g: textmacros, modules. I do not endorse the
    idea of people using this so they can rename the struct later, but I guess they are allowed to.</p>

<h3><a name='module'></a>Module</h3>
<p>A module is like a code package you can place in a struct to gain extra methods or members, etc. module, ...,
    endmodule are used to declare a module and implement is used to <i>copy</i> the module&apos;s members to the struct.
    Consider this as a high level textmacro.</p>

<p>methods in modules can call/use methods/members that belong to the struct (which could be private), just notice that
    if the struct does not have such members, a syntax error would pop up as if you were pasting the module&apos;s code
    into the struct. A module&apos;s private members will not be visible to the calling struct and their names will not
    conflict with other members in the struct, there are some exceptions, however: create, and onDestroy which will be
    handled differently later. You cannot have private operators in modules (operators are often meant for public APIs
    so it does not make any sense to make them private anyway).
</p>
<p>Since Jasshelper 0.9.Z.1, private onInit methods inside a module will be executed on init once per struct
    implementing it. Multiple onInit methods from multiple modules can coexist with the struct&apos;s onInit method as
    well.</p>

<font face="monospace">
    <br>
    <font color="#008800">///</font><br>
    <font color="#008800">// Declare the module, similar to a struct declaration</font><br>
    <font color="#008800">//</font><br>
    <font color="#000000"><b>module</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">MyRepeatModule</font></span><br>
    <br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>method</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">repeat1000</font></span>&nbsp;<font color="#000000"><b>takes</b></font>&nbsp;<font
        color="#7777cc"><b>nothing</b></font>&nbsp;<font color="#000000"><b>returns</b></font>&nbsp;<font
        color="#7777cc"><b>nothing</b></font><br>
    &nbsp;&nbsp;&nbsp;&nbsp; <font color="#000000"><b>local</b></font>&nbsp;<font color="#7777cc"><b>integer</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">i</font></span>=<font color="#000066">0</font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>loop</b></font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>exitwhen</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">i</font></span>==<font color="#000066">1000</font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<font
        color="#000066">this</font><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">sub</font></span>() <font color="#008800">//a method that is expected</font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font
        color="#008800">//to exist in the struct</font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>set</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">i</font></span>=<span style="background-color: #ffffff"><font
        color="#000000">i</font></span>+<font color="#000066">1</font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>endloop</b></font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>endmethod</b></font><br>
    <br>
    <font color="#000000"><b>endmodule</b></font><br>
    <br>
    <font color="#008800">// the struct :</font><br>
    <font color="#000000"><b>struct</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">MyStruct</font></span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>method</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">sub</font></span>&nbsp;<font
        color="#000000"><b>takes</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font>&nbsp;<font color="#000000"><b>returns</b></font>&nbsp;<font
        color="#7777cc"><b>nothing</b></font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">BJDebugMsg</font></span>(<font color="#0000cc"><i>&quot;Hello
    world&quot;</i></font>)<br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>endmethod</b></font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>implement</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">MyRepeatModule</font></span> <font color="#008800">//adds
    the module.</font>
    <br>
    <br>
    <font color="#000000"><b>endstruct</b></font><br>
    <br>
    <font color="#000000"><b>function</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">MyTest</font></span>&nbsp;<font
        color="#000000"><b>takes</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">MyStruct</font></span>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">ms</font></span>&nbsp;<font color="#000000"><b>returns</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">ms</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">repeat1000</font></span>() <font color="#008800">//will call ms.sub 1000 times.</font><br>
    <font color="#000000"><b>endfunction</b></font><br>
</font>

<p>You can call other modules from inside a module using implement, adding the keyword optional after implement will
    make them module implementation optional, that is if the module cannot be found, no error will show up, vJass will
    just ignore the implement call. Another useful idea is to use thistype when necessary. If implement attempts to
    implement a module that has already been implemented in a struct, the call is ignored as well.</p>

<p>A module&apos;s contents obey the scope rules from the scope/library in which it is declared (if any).</p>

<font face="monospace">
    <br>
    <font color="#000000"><b>module</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">MyOtherModule</font></span><br>
    <br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>method</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">uhOh</font></span>&nbsp;<font
        color="#000000"><b>takes</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font>&nbsp;<font color="#000000"><b>returns</b></font>&nbsp;<font
        color="#7777cc"><b>nothing</b></font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>endmethod</b></font><br>
    <font color="#000000"><b>endmodule</b></font><br>
    <br>
    <font color="#008800">///</font><br>
    <font color="#008800">// Declare the module, similar to a struct declaration</font><br>
    <font color="#008800">//</font><br>
    <font color="#000000"><b>module</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">MyModule</font></span><br>
    <br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#008800">//next line adds a member uhOh that does nothing</font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>implement</b></font>&nbsp;<font
        color="#000000"><b>optional</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">MyOtherModule</font></span><br>
    <br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#008800">//since OptionalModule is not declared, next line is
    ignored</font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>implement</b></font>&nbsp;<font
        color="#000000"><b>optional</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">OptionalModule</font></span><br>
    <br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#008800">// This method call requires that the struct had</font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#008800">//&nbsp;&nbsp;a copy() method</font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>static</b></font>&nbsp;<font color="#000000"><b>method</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">swap</font></span>&nbsp;<font
        color="#000000"><b>takes</b></font>&nbsp;<font color="#7777cc"><b>thistype</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">A</font></span>&nbsp;, <font
        color="#7777cc"><b>thistype</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">B</font></span>&nbsp;<font color="#000000"><b>returns</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font><br>
    &nbsp;&nbsp;&nbsp;&nbsp; <font color="#000000"><b>local</b></font>&nbsp;<font color="#7777cc"><b>thistype</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">C</font></span>&nbsp;= <font
        color="#7777cc"><b>thistype</b></font><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">allocate</font></span>()<br>
    &nbsp;&nbsp;&nbsp;&nbsp; <font color="#008800">//we are from the inside, so can use allocate, even though it is
    private</font><br>
    <br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">C</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">copy</font></span>(<span
        style="background-color: #ffffff"><font color="#000000">A</font></span>)<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">A</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">copy</font></span>(<span
        style="background-color: #ffffff"><font color="#000000">B</font></span>)<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">B</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">copy</font></span>(<span
        style="background-color: #ffffff"><font color="#000000">C</font></span>)<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">C</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">destroy</font></span>()<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>endmethod</b></font><br>
    <br>
    <font color="#000000"><b>endmodule</b></font><br>
    <br>
    <font color="#008800">// the struct :</font><br>
    <font color="#000000"><b>struct</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">MyStruct</font></span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#7777cc"><b>integer</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">a</font></span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#7777cc"><b>integer</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">b</font></span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#7777cc"><b>integer</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">c</font></span><br>
    <br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#008800">//code a copy method</font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>method</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">copy</font></span>&nbsp;<font
        color="#000000"><b>takes</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">MyStruct</font></span>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">x</font></span>&nbsp;<font color="#000000"><b>returns</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>set</b></font>&nbsp;<font color="#000066">this</font><font
        color="#000066">.</font><span style="background-color: #ffffff"><font color="#000000">a</font></span>&nbsp;=
    <span style="background-color: #ffffff"><font color="#000000">x</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">a</font></span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>set</b></font>&nbsp;<font color="#000066">this</font><font
        color="#000066">.</font><span style="background-color: #ffffff"><font color="#000000">b</font></span>&nbsp;=
    <span style="background-color: #ffffff"><font color="#000000">x</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">b</font></span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>set</b></font>&nbsp;<font color="#000066">this</font><font
        color="#000066">.</font><span style="background-color: #ffffff"><font color="#000000">c</font></span>&nbsp;=
    <span style="background-color: #ffffff"><font color="#000000">x</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">c</font></span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>endmethod</b></font><br>
    <br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#008800">//get the swap method &quot;for free&quot;</font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>implement</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">MyModule</font></span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>implement</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">MyOtherModule</font></span>&nbsp;<font color="#008800">//this
    module was already include by MyModule, so this line is ignored</font><br>
    <br>
    <font color="#000000"><b>endstruct</b></font><br>
    <br>
    <font color="#000000"><b>function</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">MyTest</font></span>&nbsp;<font
        color="#000000"><b>takes</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">MyStruct</font></span>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">A</font></span>, <span style="background-color: #ffffff"><font
        color="#000000">MyStruct</font></span>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">B</font></span>&nbsp;<font color="#000000"><b>returns</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">MyStruct</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">swap</font></span>(<span
        style="background-color: #ffffff"><font color="#000000">A</font></span>,<span style="background-color: #ffffff"><font
        color="#000000">B</font></span>) <font color="#008800">//it now got that method afterall</font><br>
    <font color="#000000"><b>endfunction</b></font><br>
</font>


<h3><a name='funcobj'></a>Functions as objects</h3>
<p>For vJass functions may behave as objects with 2 methods: evaluate and execute, both methods got the same arguments
    list as the function, and evaluate got its return value as well.</p>

<p>Using functions as objects has a couple of advantages, evaluate() allows you to call the function even from code that
    is above its function declaration, execute allows the same but it is also able to run the function in another
    thread.</p>

<p>The disadvantages are: Functions that are used with evaluate(), should not use GetTriggeringTrigger() (but you may
    use any other event response) or any sync native, evaluate() does not support waits, and evaluate() is slower than a
    normal function call.</p>

<p>.execute() is actually faster than good old ExecuteFunc, and in later versions it might actually get even faster.
    evaluate halves the duration of ExecuteFunc and it may get much better later.</p>
<p>For functions that have function arguments you would have to use global variables to pass arguments when using
    ExecuteFunc, .execute and .evaluate will pass the arguments directly.</p>

<pre>
<font color="#000000"><b>function</b></font> <span style="background-color: #ffffff"><font
        color="#000000">A</font></span> <font color="#000000"><b>takes</b></font> <font
        color="#7777cc"><b>real</b></font> <span style="background-color: #ffffff"><font color="#000000">x</font></span> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>real</b></font>
 <font color="#000000"><b>if</b></font>(<span style="background-color: #ffffff"><font
        color="#000000">GetRandomInt</font></span>(<font color="#000066">0</font>,<font color="#000066">1</font>)==<font
        color="#000066">0</font>) <font color="#000000"><b>then</b></font>
    <font color="#000000"><b>return</b></font> <span style="background-color: #ffffff"><font
        color="#000000">B</font></span>(<span style="background-color: #ffffff"><font
        color="#000000">x</font></span>*<font color="#000066">0.02</font>)
 <font color="#000000"><b>endif</b></font>
 <font color="#000000"><b>return</b></font> <span style="background-color: #ffffff"><font
        color="#000000">x</font></span>
<font color="#000000"><b>endfunction</b></font>

<font color="#000000"><b>function</b></font> <span style="background-color: #ffffff"><font
        color="#000000">B</font></span> <font color="#000000"><b>takes</b></font> <font
        color="#7777cc"><b>real</b></font> <span style="background-color: #ffffff"><font color="#000000">x</font></span> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>real</b></font>
 <font color="#000000"><b>if</b></font>(<span style="background-color: #ffffff"><font
        color="#000000">GetRandomInt</font></span>(<font color="#000066">0</font>,<font color="#000066">1</font>)==<font
        color="#000066">1</font>) <font color="#000000"><b>then</b></font>
    <font color="#000000"><b>return</b></font> <span style="background-color: #ffffff"><font
        color="#000000">A</font></span>(<span style="background-color: #ffffff"><font
        color="#000000">x</font></span>*<font color="#000066">1000.</font>)
 <font color="#000000"><b>endif</b></font>
 <font color="#000000"><b>return</b></font> <span style="background-color: #ffffff"><font
        color="#000000">x</font></span>
<font color="#000000"><b>endfunction</b></font>
</pre>

<p> These are mutually recursive functions, and with normal Jass this would give a syntax error, in order to prevent
    this issue you may use evaluate:</p>

<pre>
<font color="#000000"><b>function</b></font> <span style="background-color: #ffffff"><font
        color="#000000">A</font></span> <font color="#000000"><b>takes</b></font> <font
        color="#7777cc"><b>real</b></font> <span style="background-color: #ffffff"><font color="#000000">x</font></span> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>real</b></font>
 <font color="#000000"><b>if</b></font>(<span style="background-color: #ffffff"><font
        color="#000000">GetRandomInt</font></span>(<font color="#000066">0</font>,<font color="#000066">1</font>)==<font
        color="#000066">0</font>) <font color="#000000"><b>then</b></font>
    <font color="#000000"><b>return</b></font> <span style="background-color: #ffffff"><font
        color="#000000">B</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">evaluate</font></span>(<span style="background-color: #ffffff"><font
        color="#000000">x</font></span>*<font color="#000066">0.02</font>)
 <font color="#000000"><b>endif</b></font>
 <font color="#000000"><b>return</b></font> <span style="background-color: #ffffff"><font
        color="#000000">x</font></span>
<font color="#000000"><b>endfunction</b></font>

<font color="#000000"><b>function</b></font> <span style="background-color: #ffffff"><font
        color="#000000">B</font></span> <font color="#000000"><b>takes</b></font> <font
        color="#7777cc"><b>real</b></font> <span style="background-color: #ffffff"><font color="#000000">x</font></span> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>real</b></font>
 <font color="#000000"><b>if</b></font>(<span style="background-color: #ffffff"><font
        color="#000000">GetRandomInt</font></span>(<font color="#000066">0</font>,<font color="#000066">1</font>)==<font
        color="#000066">1</font>) <font color="#000000"><b>then</b></font>
    <font color="#000000"><b>return</b></font> <span style="background-color: #ffffff"><font
        color="#000000">A</font></span>(<span style="background-color: #ffffff"><font
        color="#000000">x</font></span>*<font color="#000066">1000.</font>)
 <font color="#000000"><b>endif</b></font>
 <font color="#000000"><b>return</b></font> <span style="background-color: #ffffff"><font
        color="#000000">x</font></span>
<font color="#000000"><b>endfunction</b></font>
</pre>

<p>Let us say you need to destroy an special effect after waiting x seconds using a wait. You could use a timer but for
    example sake we are going to use a normal wait, we do not want to stop execution of the function calling this effect
    destroying function so we need a new thread:</p>

<pre>
<font color="#000000"><b>function</b></font> <span style="background-color: #ffffff"><font color="#000000">DestroyEffectAfter</font></span> <font
        color="#000000"><b>takes</b></font> <font color="#7777cc"><b>effect</b></font> <span
        style="background-color: #ffffff"><font color="#000000">fx</font></span>, <font
        color="#7777cc"><b>real</b></font> <span style="background-color: #ffffff"><font color="#000000">t</font></span> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>nothing</b></font>
    <font color="#000000"><b>call</b></font> <span style="background-color: #ffffff"><font color="#000000">TriggerSleepAction</font></span>(<span
        style="background-color: #ffffff"><font color="#000000">t</font></span>)
    <font color="#000000"><b>call</b></font> <span style="background-color: #ffffff"><font
        color="#000000">DestroyEffect</font></span>(<span style="background-color: #ffffff"><font
        color="#000000">fx</font></span>)
<font color="#000000"><b>endfunction</b></font>

<font color="#000000"><b>function</b></font> <span style="background-color: #ffffff"><font
        color="#000000">test</font></span> <font color="#000000"><b>takes</b></font> <font
        color="#7777cc"><b>nothing</b></font> <font color="#000000"><b>returns</b></font> <font color="#7777cc"><b>nothing</b></font>
 <font color="#000000"><b>local</b></font> <font color="#7777cc"><b>unit</b></font> <span
        style="background-color: #ffffff"><font color="#000000">u</font></span>=<span style="background-color: #ffffff"><font
        color="#000000">GetTriggerUnit</font></span>()
 <font color="#000000"><b>local</b></font> <font color="#7777cc"><b>effect</b></font> <span
        style="background-color: #ffffff"><font color="#000000">f</font></span>=<span style="background-color: #ffffff"><font
        color="#000000">AddSpecialEffectTarget</font></span>(<font color="#0000cc"><i>&quot;Abilities\\Spells\\Undead\\Cripple\\CrippleTarget.mdl&quot;</i></font>,<span
        style="background-color: #ffffff"><font color="#000000">u</font></span>,<font color="#0000cc"><i>&quot;chest&quot;</i></font>)

  <font color="#000000"><b>call</b></font> <span style="background-color: #ffffff"><font color="#000000">DestroyEffectAfter</font></span><font
        color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">execute</font></span>(<span style="background-color: #ffffff"><font
        color="#000000">f</font></span>,<font color="#000066">3.0</font>)

  <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font color="#000000">u</font></span>=<span
        style="background-color: #ffffff"><font color="#000000">null</font></span>
  <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font color="#000000">f</font></span>=<span
        style="background-color: #ffffff"><font color="#000000">null</font></span>
<font color="#000000"><b>endfunction</b></font>
</pre>

<p><b>Note:</b> This feature is currently limited to functions declared in the map script, you cannot use it with
    common.j natives or blizzard.j functions yet.</p>

<p>The .name member in functions will return a string containing the function&apos;s compiled name, useful when you want
    to use a scope function in things like ExecuteFunc.</p>

<font face="monospace">
    <font color="#000000"><b>scope</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">test</font></span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>public</b></font>&nbsp;<font color="#000000"><b>function</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">xxx</font></span>&nbsp;<font
        color="#000000"><b>takes</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font>&nbsp;<font color="#000000"><b>returns</b></font>&nbsp;<font
        color="#7777cc"><b>nothing</b></font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">BJDebugMsg</font></span>(<span
        style="background-color: #ffffff"><font color="#000000">xxx</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">name</font></span>) <font color="#008800">//will show
    &quot;test_xxx&quot;</font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>endfunction</b></font><br>
    <font color="#000000"><b>endscope</b></font><br></font>

<h3><a name='funcinterf'></a>Function interfaces</h3>
<p>If functions are objects then we may as well have interfaces for them.</p>

<p>The syntax for function interfaces is: <b>function interface</b> name <b>takes</b> (arguments) <b>returns</b> (return
    value)</p> It is actually similar to a function declaration.

<p>Variables/values of a function interface type may be called using execute() and evaluate() as defined above:</p>

<p>To assign to variables of a function interface type you first need to get a function&apos;s pointer. The syntax to
    get them is understandable if you assume that every declared function interface will get as static members the
    functions found in the map script that follow its argument/return value rules.</p>

<pre>
<font color="#000000"><b>function</b></font> <font color="#000000"><b>interface</b></font> <span
        style="background-color: #ffffff"><font color="#000000">Arealfunction</font></span> <font color="#000000"><b>takes</b></font> <font
        color="#7777cc"><b>real</b></font> <span style="background-color: #ffffff"><font color="#000000">x</font></span> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>real</b></font>

<font color="#000000"><b>function</b></font> <span style="background-color: #ffffff"><font color="#000000">double</font></span> <font
        color="#000000"><b>takes</b></font> <font color="#7777cc"><b>real</b></font> <span
        style="background-color: #ffffff"><font color="#000000">x</font></span> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>real</b></font>
    <font color="#000000"><b>return</b></font> <span style="background-color: #ffffff"><font
        color="#000000">x</font></span>*<font color="#000066">2.0</font>
<font color="#000000"><b>endfunction</b></font>

<font color="#000000"><b>function</b></font> <span style="background-color: #ffffff"><font color="#000000">triple</font></span> <font
        color="#000000"><b>takes</b></font> <font color="#7777cc"><b>real</b></font> <span
        style="background-color: #ffffff"><font color="#000000">x</font></span> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>real</b></font>
    <font color="#000000"><b>return</b></font> <span style="background-color: #ffffff"><font
        color="#000000">x</font></span>*<font color="#000066">2.0</font>
<font color="#000000"><b>endfunction</b></font>

<font color="#000000"><b>function</b></font> <span style="background-color: #ffffff"><font color="#000000">Test1</font></span> <font
        color="#000000"><b>takes</b></font> <font color="#7777cc"><b>real</b></font> <span
        style="background-color: #ffffff"><font color="#000000">x</font></span>, <span
        style="background-color: #ffffff"><font color="#000000">Arealfunction</font></span> <span
        style="background-color: #ffffff"><font color="#000000">F</font></span> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>real</b></font>
    <font color="#000000"><b>return</b></font> <span style="background-color: #ffffff"><font
        color="#000000">F</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">evaluate</font></span>(<span style="background-color: #ffffff"><font
        color="#000000">F</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">evaluate</font></span>(<span style="background-color: #ffffff"><font
        color="#000000">x</font></span>)*<span style="background-color: #ffffff"><font
        color="#000000">F</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">evaluate</font></span>(<span style="background-color: #ffffff"><font
        color="#000000">x</font></span>))
<font color="#000000"><b>endfunction</b></font>

<font color="#000000"><b>function</b></font> <span style="background-color: #ffffff"><font color="#000000">Test2</font></span> <font
        color="#000000"><b>takes</b></font> <font color="#7777cc"><b>nothing</b></font> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>nothing</b></font>
 <font color="#000000"><b>local</b></font> <span style="background-color: #ffffff"><font
        color="#000000">Arealfunction</font></span> <span style="background-color: #ffffff"><font
        color="#000000">fun</font></span> = <span style="background-color: #ffffff"><font
        color="#000000">Arealfunction</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">double</font></span> <font color="#008800">//syntax to get pointer to function</font>

   <font color="#000000"><b>call</b></font> <span style="background-color: #ffffff"><font
        color="#000000">BJDebugMsg</font></span>( <span style="background-color: #ffffff"><font
        color="#000000">R2S</font></span>(  <span style="background-color: #ffffff"><font
        color="#000000">Test1</font></span>(<font color="#000066">1.2</font>, <span
        style="background-color: #ffffff"><font color="#000000">fun</font></span>) ))

   <font color="#000000"><b>call</b></font> <span style="background-color: #ffffff"><font
        color="#000000">BJDebugMsg</font></span>( <span style="background-color: #ffffff"><font
        color="#000000">R2S</font></span>(  <span style="background-color: #ffffff"><font
        color="#000000">Test1</font></span>(<font color="#000066">1.2</font>, <span
        style="background-color: #ffffff"><font color="#000000">Arealfunction</font></span><font
        color="#000066">.</font><span style="background-color: #ffffff"><font color="#000000">triple</font></span> ) )) <font
        color="#008800">//also possible...</font>
<font color="#000000"><b>endfunction</b></font>
</pre>

<p>In this example we are actually having functions as arguments and as a variable. You may also typecast(see bellow) a
    function pointer to integer and then back to the interface function it originated.</p>

<p>It is also possible to get a function pointer without typing the interface&apos;s name, notice that this will not
    allow you to validate the function as following the interface&apos;s declaration, but it is simpler nontheless.:/
<p>

    <font face="monospace">
        <font color="#008800">//repeat a call of the same function on a real variable thrice!</font><br/>
        <br/>
        <font color="#000000"><b>function</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">double</font></span>&nbsp;<font
            color="#000000"><b>takes</b></font>&nbsp;<font color="#7777cc"><b>real</b></font>&nbsp;<span
            style="background-color: #ffffff"><font color="#000000">x</font></span>&nbsp;<font color="#000000"><b>returns</b></font>&nbsp;<font
            color="#7777cc"><b>real</b></font><br/>
        &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>return</b></font>&nbsp;<font color="#000066">2</font>*<span
            style="background-color: #ffffff"><font color="#000000">x</font></span><br/>
        <font color="#000000"><b>endfunction</b></font><br/>
        <br/>
        <font color="#000000"><b>function</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">square</font></span>&nbsp;<font
            color="#000000"><b>takes</b></font>&nbsp;<font color="#7777cc"><b>real</b></font>&nbsp;<span
            style="background-color: #ffffff"><font color="#000000">x</font></span>&nbsp;<font color="#000000"><b>returns</b></font>&nbsp;<font
            color="#7777cc"><b>real</b></font><br/>
        &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>return</b></font>&nbsp;<span style="background-color: #ffffff"><font
            color="#000000">x</font></span>*<span style="background-color: #ffffff"><font
            color="#000000">x</font></span><br/>
        <font color="#000000"><b>endfunction</b></font><br/>
        <br/>
        &nbsp;&nbsp; <font color="#000000"><b>function</b></font>&nbsp;<font color="#000000"><b>interface</b></font>&nbsp;<span
            style="background-color: #ffffff"><font color="#000000">realfunc</font></span>&nbsp;<font
            color="#000000"><b>takes</b></font>&nbsp;<font color="#7777cc"><b>real</b></font>&nbsp;<span
            style="background-color: #ffffff"><font color="#000000">x</font></span>&nbsp;<font color="#000000"><b>returns</b></font>&nbsp;<font
            color="#7777cc"><b>real</b></font><br/>
        <br/>
        <font color="#000000"><b>function</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">repeater3</font></span>&nbsp;<font
            color="#000000"><b>takes</b></font>&nbsp;<font color="#7777cc"><b>real</b></font>&nbsp;<span
            style="background-color: #ffffff"><font color="#000000">x</font></span>, <span
            style="background-color: #ffffff"><font color="#000000">realfunc</font></span>&nbsp;<span
            style="background-color: #ffffff"><font color="#000000">F</font></span>&nbsp;<font color="#000000"><b>returns</b></font>&nbsp;<font
            color="#7777cc"><b>real</b></font><br/>
        &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>set</b></font>&nbsp;<span
            style="background-color: #ffffff"><font color="#000000">x</font></span>=<span
            style="background-color: #ffffff"><font color="#000000">F</font></span><font color="#000066">.</font><span
            style="background-color: #ffffff"><font color="#000000">evaluate</font></span>(<span
            style="background-color: #ffffff"><font color="#000000">x</font></span>)<br/>
        &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>set</b></font>&nbsp;<span
            style="background-color: #ffffff"><font color="#000000">x</font></span>=<span
            style="background-color: #ffffff"><font color="#000000">F</font></span><font color="#000066">.</font><span
            style="background-color: #ffffff"><font color="#000000">evaluate</font></span>(<span
            style="background-color: #ffffff"><font color="#000000">x</font></span>)<br/>
        &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>set</b></font>&nbsp;<span
            style="background-color: #ffffff"><font color="#000000">x</font></span>=<span
            style="background-color: #ffffff"><font color="#000000">F</font></span><font color="#000066">.</font><span
            style="background-color: #ffffff"><font color="#000000">evaluate</font></span>(<span
            style="background-color: #ffffff"><font color="#000000">x</font></span>)<br/>
        &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>return</b></font>&nbsp;<span style="background-color: #ffffff"><font
            color="#000000">x</font></span><br/>
        <font color="#000000"><b>endfunction</b></font><br/>
        <br/>
        <font color="#000000"><b>function</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">test</font></span>&nbsp;<font
            color="#000000"><b>takes</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font>&nbsp;<font
            color="#000000"><b>returns</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font><br/>
        &nbsp;<font color="#000000"><b>local</b></font>&nbsp;<font color="#7777cc"><b>real</b></font>&nbsp;<span
            style="background-color: #ffffff"><font color="#000000">x</font></span>&nbsp;= <span
            style="background-color: #ffffff"><font color="#000000">repeater3</font></span>( <font
            color="#000066">2.0</font>, <span style="background-color: #ffffff"><font
            color="#000000">double</font></span>) <font color="#008800">//notice we are just using the functions' names
        as if they were values.</font><br/>
        &nbsp;<font color="#000000"><b>local</b></font>&nbsp;<font color="#7777cc"><b>real</b></font>&nbsp;<span
            style="background-color: #ffffff"><font color="#000000">y</font></span>&nbsp;= <span
            style="background-color: #ffffff"><font color="#000000">repeater3</font></span>( <font
            color="#000066">2.0</font>, <span style="background-color: #ffffff"><font
            color="#000000">square</font></span>)<br/>
        <br/>
        &nbsp;&nbsp; <font color="#008800">//The results are x=16 and y=256.</font><br/>
        &nbsp;&nbsp; <font color="#008800">//explanation: the first is equivalent to:</font><br/>
        &nbsp;&nbsp; <font color="#008800">//&nbsp;&nbsp;&nbsp;&nbsp;set x=2</font><br/>
        &nbsp;&nbsp; <font color="#008800">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set x=2*x</font><br/>
        &nbsp;&nbsp; <font color="#008800">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set x=2*x</font><br/>
        &nbsp;&nbsp; <font color="#008800">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set x=2*x</font><br/>
        &nbsp;&nbsp; <br/>
        &nbsp;&nbsp; <font color="#008800">// While the second is:</font><br/>
        &nbsp;&nbsp; <font color="#008800">//&nbsp;&nbsp;&nbsp;&nbsp;set y=2</font><br/>
        &nbsp;&nbsp; <font color="#008800">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set y=y*y</font><br/>
        &nbsp;&nbsp; <font color="#008800">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set y=y*y</font><br/>
        &nbsp;&nbsp; <font color="#008800">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set y=y*y</font><br/>
        <br/>
        &nbsp;<font color="#008800">// yep, function interfaces allow you to use functions as if they were just another
        sort of variable.</font><br/>
        <font color="#000000"><b>endfunction</b></font><br/>
    </font>

<p>You may also use methods for function interfaces, the static method gets converted into a function pointer.</p>

<font face="monospace">
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>function</b></font>&nbsp;<font
        color="#000000"><b>interface</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">myFunc</font></span>&nbsp;<font
        color="#000000"><b>takes</b></font>&nbsp;<font color="#7777cc"><b>integer</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">a</font></span>, <font
        color="#7777cc"><b>integer</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">b</font></span>&nbsp;<font color="#000000"><b>returns</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font><br>
    <br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>struct</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">try</font></span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>static</b></font>&nbsp;<font
        color="#000000"><b>method</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">AAAA</font></span>&nbsp;<font color="#000000"><b>takes</b></font>&nbsp;<font color="#7777cc"><b>integer</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">a</font></span>, <font
        color="#7777cc"><b>integer</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">b</font></span>&nbsp;<font color="#000000"><b>returns</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#000000"><b>call</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">BJDebugMsg</font></span>( <span
        style="background-color: #ffffff"><font color="#000000">I2S</font></span>(<span
        style="background-color: #ffffff"><font color="#000000">a</font></span>)+<font color="#0000cc"><i>&quot;,
    &quot;</i></font>+<span style="background-color: #ffffff"><font color="#000000">I2S</font></span>(<span
        style="background-color: #ffffff"><font color="#000000">b</font></span>) )<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>endmethod</b></font><br>
    <br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>method</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">ooz</font></span>&nbsp;<font
        color="#000000"><b>takes</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font>&nbsp;<font color="#000000"><b>returns</b></font>&nbsp;<font
        color="#7777cc"><b>nothing</b></font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#000000"><b>local</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">myFunc</font></span>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">fun</font></span>&nbsp;= <span
        style="background-color: #ffffff"><font color="#000000">try</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">AAAA</font></span><font color="#000066"></font><span
        style="background-color: #ffffff"><font color="#000000"></font></span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font
        color="#000000"><b>call</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">fun</font></span><font
        color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">evaluate</font></span>(<font color="#000066">5</font>,<font color="#000066">6</font>)<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font
        color="#000000"><b>call</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">fun</font></span><font
        color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">evaluate</font></span>(<font color="#000066">7</font>,<font color="#000066">8</font>)<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>endmethod</b></font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>endstruct</b></font><br>
</font>

<p>Notice that non-static methods are usable as well for function interfaces. They behave as functions that take an
    integer in the first argument though.</p>
<p>When using non-static methods as function pointers, you are just converting them into functions that take an integer
    as first argument, the function pointer instance will require one of the struct&apos;s instances to get called.</p>

<font face="monospace">
    <font color="#000000"><b>function</b></font>&nbsp;<font color="#000000"><b>interface</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">myFunc</font></span>&nbsp;<font
        color="#000000"><b>takes</b></font>&nbsp;<font color="#7777cc"><b>integer</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">x</font></span>&nbsp;<font
        color="#000000"><b>returns</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font><br>
    <br>
    <br>
    <font color="#000000"><b>struct</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">TestStruct</font></span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#7777cc"><b>string</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">msg</font></span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>method</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">AAAA</font></span>&nbsp;<font
        color="#000000"><b>takes</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font>&nbsp;<font color="#000000"><b>returns</b></font>&nbsp;<font
        color="#7777cc"><b>nothing</b></font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#000000"><b>call</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">BJDebugMsg</font></span>(<span
        style="background-color: #ffffff"><font color="#000000">msg</font></span>)<br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>endmethod</b></font><br>
    <font color="#000000"><b>endstruct</b></font><br>
    <br>
    <font color="#000000"><b>function</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">test</font></span>&nbsp;<font color="#000000"><b>takes</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font>&nbsp;<font
        color="#000000"><b>returns</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font><br>
    &nbsp;<font color="#000000"><b>local</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">TestStruct</font></span>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">ts</font></span>&nbsp;= <span
        style="background-color: #ffffff"><font color="#000000">TestStruct</font></span><font
        color="#000066">.</font><span style="background-color: #ffffff"><font color="#000000">create</font></span>()<br>
    &nbsp;<font color="#000000"><b>local</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">myFunc</font></span>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">mf</font></span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>set</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">ts</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">msg</font></span>&nbsp;= <font color="#0000cc"><i>&quot;!!! !!! !!! !!! &quot;</i></font><br>
    <br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>set</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">mf</font></span>&nbsp;= <span style="background-color: #ffffff"><font
        color="#000000">TestStruct</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">AAAA</font></span><br>
    <br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">mf</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">evaluate</font></span>(<span style="background-color: #ffffff"><font
        color="#000000">ts</font></span>&nbsp;) <font color="#008800">//notice that we are explicitly feeding the
    function a instance</font><br>
    <br>
    <font color="#000000"><b>endfunction</b></font><br>
    <br>
    <br>
</font>


<h3><a name='typecast'></a>Typecast</h3>
<p>For the moment, assigning a value of an struct type to an integer variable / or variable of any other struct type
    will already change the type of that reference for the compiler</p>

<p>Notice that sometimes using a variable might get tedious or even create unneeded overhead, that is the reason the
    type cast operator was added.</p>

<p>Its syntax is mostly like a function but the name of the function is the name of a custom type. It will soon allow
    native types as well.</p>


<pre>
<font color="#000000"><b>interface</b></font>  <span style="background-color: #ffffff"><font color="#000000">wack</font></span>
    <font color="#008800">//... some declarations</font>
<font color="#000000"><b>endinterface</b></font>

<font color="#000000"><b>struct</b></font> <span style="background-color: #ffffff"><font
        color="#000000">wek</font></span> <font color="#000000"><b>extends</b></font> <span
        style="background-color: #ffffff"><font color="#000000">wack</font></span>
   <font color="#7777cc"><b>integer</b></font> <span style="background-color: #ffffff"><font
        color="#000000">x</font></span>
   <font color="#008800">// some more declarations</font>
<font color="#000000"><b>endstruct</b></font>

<font color="#000000"><b>function</b></font> <span style="background-color: #ffffff"><font
        color="#000000">test</font></span> <font color="#000000"><b>takes</b></font> <span
        style="background-color: #ffffff"><font color="#000000">wack</font></span> <span
        style="background-color: #ffffff"><font color="#000000">W</font></span> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>nothing</b></font>
   <font color="#008800">//You are certain that W is of type wek, a way to cast the value is:</font>
 <font color="#000000"><b>local</b></font> <span style="background-color: #ffffff"><font
        color="#000000">wek</font></span> <span style="background-color: #ffffff"><font color="#000000">jo</font></span> = <span
        style="background-color: #ffffff"><font color="#000000">W</font></span>
   <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">jo</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">x</font></span>= <font color="#000066">5</font> <font color="#008800">//done</font>

   <font color="#008800">// but sometimes creating a variable is too much work for the virtual machine and you</font>
   <font color="#008800">// are only accessing it once </font>

   <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">wek</font></span>(<span style="background-color: #ffffff"><font color="#000000">W</font></span>)<font
        color="#000066">.</font><span style="background-color: #ffffff"><font color="#000000">x</font></span>=<font
        color="#000066">5</font> <font color="#008800">//also works.</font>
<font color="#000000"><b>endfunction</b></font>


<font color="#000000"><b>type</b></font> <span style="background-color: #ffffff"><font
        color="#000000">anarrayofdata</font></span> <font color="#000000"><b>extends</b></font> <font
        color="#7777cc"><b>integer</b></font> <font color="#7777cc"><b>array</b></font> [<font color="#000066">6</font>]

<font color="#000000"><b>function</b></font> <span style="background-color: #ffffff"><font
        color="#000000">getdata5</font></span> <font color="#000000"><b>takes</b></font> <font
        color="#7777cc"><b>unit</b></font> <span style="background-color: #ffffff"><font color="#000000">u</font></span> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>integer</b></font>
    <font color="#008800">//a reference to an object of type anarrayofdata is saved as the unit's custom value</font>
    <font color="#000000"><b>return</b></font> <span style="background-color: #ffffff"><font color="#000000">anarrayofdata</font></span>(<span
        style="background-color: #ffffff"><font color="#000000">GetUnitUserData</font></span>(<span
        style="background-color: #ffffff"><font color="#000000">u</font></span>))[<font color="#000066">5</font>]
<font color="#000000"><b>endfunction</b></font>

<font color="#000000"><b>function</b></font> <span style="background-color: #ffffff"><font
        color="#000000">setdata5</font></span> <font color="#000000"><b>takes</b></font> <font
        color="#7777cc"><b>unit</b></font> <span style="background-color: #ffffff"><font color="#000000">u</font></span>, <span
        style="background-color: #ffffff"><font color="#000000">anarrayofdata</font></span> <span
        style="background-color: #ffffff"><font color="#000000">x</font></span> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>nothing</b></font>
    <font color="#008800">// Here we are doing the opposite, notice that integer may be used as a type cast</font>
    <font color="#008800">// operator for struct and dynamic array types.</font>
    <font color="#000000"><b>call</b></font> <span style="background-color: #ffffff"><font color="#000000">SetUnitUserData</font></span>(<span
        style="background-color: #ffffff"><font color="#000000">u</font></span>,  <font
        color="#7777cc"><b>integer</b></font>(<span style="background-color: #ffffff"><font
        color="#000000">x</font></span>))
<font color="#000000"><b>endfunction</b></font>

</pre>


<h3><a name="methodname"></a>Method function name</h3>

<p>Methods may work as objects to use the .execute()/.evaluate() feature, they may also work as objects to allow access
    to the name field. This .name field will return the function name given to a method after the compiling.</p>

<p>This is specially useful in case you want to use an struct&apos;s static method on an ExecuteFunc based system.</p>

<pre>


<font color="#000000"><b>struct</b></font> <span style="background-color: #ffffff"><font color="#000000">mystruct</font></span>
    <font color="#000000"><b>static</b></font> <font color="#000000"><b>method</b></font> <span
        style="background-color: #ffffff"><font color="#000000">mymethod</font></span> <font
        color="#000000"><b>takes</b></font> <font color="#0055aa"><b>nothing</b></font> <font
        color="#000000"><b>returns</b></font> <font color="#0055aa"><b>nothing</b></font>
        <font color="#000000"><b>call</b></font> <span style="background-color: #ffffff"><font color="#000000">BJDebugMsg</font></span>(<font
        color="#0000aa"><i>&quot;this works&quot;</i></font>)
    <font color="#000000"><b>endmethod</b></font>
<font color="#000000"><b>endstruct</b></font>

<font color="#000000"><b>function</b></font> <span style="background-color: #ffffff"><font
        color="#000000">myfunction</font></span> <font color="#000000"><b>takes</b></font> <font color="#0055aa"><b>nothing</b></font> <font
        color="#000000"><b>returns</b></font> <font color="#0055aa"><b>nothing</b></font>
    <font color="#000000"><b>call</b></font> <span style="background-color: #ffffff"><font
        color="#000000">ExecuteFunc</font></span>(<span style="background-color: #ffffff"><font
        color="#000000">mystruct</font></span><font color="#0000aa">.</font><span
        style="background-color: #ffffff"><font color="#000000">mymethod</font></span><font
        color="#0000aa">.</font><span style="background-color: #ffffff"><font color="#000000">name</font></span>) <font
        color="#008800">//ExecuteFunc compatibility</font>

    <font color="#000000"><b>call</b></font> <span style="background-color: #ffffff"><font
        color="#000000">OnAbilityCast</font></span>(<font color="#0000aa">'A000'</font>,<span
        style="background-color: #ffffff"><font color="#000000">mystruct</font></span><font
        color="#0000aa">.</font><span style="background-color: #ffffff"><font
        color="#000000">mymethod</font></span><font color="#0000aa">.</font><span
        style="background-color: #ffffff"><font color="#000000">name</font></span>)
    <font color="#008800">//for example, caster system&apos;s OnAbilityCast, requires a function name</font>
<font color="#000000"><b>endfunction</b></font>
</pre>

<h3><a name="methodexists"></a>Method exists</h3>

<p>Another field used by methods is the exists field, it is a boolean field that returns true if the method has been
    declared or false otherwise. Most of the times it would be true, the only case whatsoever in which it could be false
    is if the struct is extending a interface that uses defaults for the method.</p>

<font face="monospace">
    <font color="#000000"><b>interface</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">myInterface</font></span><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>method</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">myMethod1</font></span>&nbsp;<font color="#000000"><b>takes</b></font>&nbsp;<font
        color="#7777cc"><b>nothing</b></font>&nbsp;<font color="#000000"><b>returns</b></font>&nbsp;<font
        color="#7777cc"><b>nothing</b></font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>method</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">myMethod2</font></span>&nbsp;<font color="#000000"><b>takes</b></font>&nbsp;<font
        color="#7777cc"><b>nothing</b></font>&nbsp;<font color="#000000"><b>returns</b></font>&nbsp;<font
        color="#7777cc"><b>nothing</b></font><br/>
    <font color="#000000"><b>endinterface</b></font><br/>
    <br/>
    <font color="#000000"><b>struct</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">myStruct</font></span><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>method</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">myMethod1</font></span>&nbsp;<font color="#000000"><b>takes</b></font>&nbsp;<font
        color="#7777cc"><b>nothing</b></font>&nbsp;<font color="#000000"><b>returns</b></font>&nbsp;<font
        color="#7777cc"><b>nothing</b></font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">BJDebugMsg</font></span>(<font color="#0000cc"><i>&quot;er&quot;</i></font>)<br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>endmethod</b></font><br/>
    <font color="#000000"><b>endstruct</b></font><br/>
    <br/>
    <font color="#000000"><b>function</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">test</font></span>&nbsp;<font color="#000000"><b>takes</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font>&nbsp;<font
        color="#000000"><b>returns</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font><br/>
    &nbsp;<font color="#000000"><b>local</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">myInterface</font></span>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">mi</font></span>&nbsp;= <span
        style="background-color: #ffffff"><font color="#000000">myStruct</font></span><font
        color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">create</font></span>()<br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#008800">//outputs:</font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#008800">// yes</font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#008800">// no</font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>if</b></font>( <span style="background-color: #ffffff"><font
        color="#000000">mi</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">myMethod1</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">exists</font></span>) <font color="#000000"><b>then</b></font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">BJDebugMsg</font></span>(<font color="#0000cc"><i>&quot;Yes&quot;</i></font>)<br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>else</b></font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">BJDebugMsg</font></span>(<font color="#0000cc"><i>&quot;No&quot;</i></font>)<br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>endif</b></font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>if</b></font>( <span style="background-color: #ffffff"><font
        color="#000000">mi</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">myMethod2</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">exists</font></span>) <font color="#000000"><b>then</b></font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">BJDebugMsg</font></span>(<font color="#0000cc"><i>&quot;Yes&quot;</i></font>)<br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>else</b></font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">BJDebugMsg</font></span>(<font color="#0000cc"><i>&quot;No&quot;</i></font>)<br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>endif</b></font><br/>
    <br/>
    <font color="#000000"><b>endfunction</b></font> </font>

<h3><a name="arrstruct"></a>Array structs</h3>
<p>Sometimes, you&apos;d like to have a global array of a struct type, just to be able to have that field syntax we all
    like so much, it can be more complicated than it is supposed to, for example you have to manually initialize all the
    indexes to create the unique indexes, etc. Another issue is when you do not really want to use .allocate() and
    .destroy() you would like to have your own ways for allocation. Array structs are a small syntax enhancement that is
    equivalent to an array of a struct type, you would be able to use the members for each index and you will not have
    to worry about .create().</p>

<font face="monospace">
    <font color="#008800">//Array structs are hard to explain, but should be simple to understand with an example</font><br/>
    <br/>
    <font color="#000000"><b>struct</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">playerdata</font></span>&nbsp;<font
        color="#000000"><b>extends</b></font>&nbsp;<font color="#7777cc"><b>array</b></font>&nbsp;<font color="#008800">//syntax
    to declare an array struct</font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#7777cc"><b>integer</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">a</font></span><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#7777cc"><b>integer</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">b</font></span><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#7777cc"><b>integer</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">c</font></span><br/>
    <font color="#000000"><b>endstruct</b></font><br/>
    <br/>
    <font color="#000000"><b>function</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">init</font></span>&nbsp;<font color="#000000"><b>takes</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font>&nbsp;<font
        color="#000000"><b>returns</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font><br/>
    &nbsp;<font color="#000000"><b>local</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">playerdata</font></span>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">pd</font></span><br/>
    <br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>set</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">playerdata</font></span><font color="#000066">[3].</font><span
        style="background-color: #ffffff"><font color="#000000">a</font></span>=<font color="#000066">12</font>&nbsp;&nbsp;<font
        color="#008800">//modifying player 3's fields.</font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>set</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">playerdata</font></span><font color="#000066">[3].</font><span
        style="background-color: #ffffff"><font color="#000000">b</font></span>=<font color="#000066">34</font>&nbsp;&nbsp;<font
        color="#008800">//notice it behaves as a global array</font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>set</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">playerdata</font></span><font color="#000066">[3].</font><span
        style="background-color: #ffffff"><font color="#000000">c</font></span>=<font color="#000066">500</font><br/>
    <br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>set</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">pd</font></span>=<span style="background-color: #ffffff"><font color="#000000">playerdata</font></span>[<font
        color="#000066">4</font>]<br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>set</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">pd</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">a</font></span>=<font color="#000066">17</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <font color="#008800">//modifying player 4's fields.</font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>set</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">pd</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">b</font></span>=<font color="#000066">111</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font
        color="#008800">//yep, this is also valid</font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>set</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">pd</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">c</font></span>=<font color="#000066">501</font><br/>
    <font color="#000000"><b>endfunction</b></font><br/>
    <br/>
    <font color="#000000"><b>function</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">updatePlayerStuff</font></span>&nbsp;<font
        color="#000000"><b>takes</b></font>&nbsp;<font color="#7777cc"><b>player</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">p</font></span>&nbsp;<font
        color="#000000"><b>returns</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font><br/>
    &nbsp;<font color="#000000"><b>local</b></font>&nbsp;<font color="#7777cc"><b>integer</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">i</font></span>=<span style="background-color: #ffffff"><font
        color="#000000">GetPlayerId</font></span>(<span style="background-color: #ffffff"><font color="#000000">p</font></span>)<br/>
    <br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#008800">//some random function.</font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>set</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">playerdata</font></span>[<span style="background-color: #ffffff"><font color="#000000">i</font></span><font
        color="#000066">].</font><span style="background-color: #ffffff"><font color="#000000">a</font></span>=<span
        style="background-color: #ffffff"><font color="#000000">playerdata</font></span>[<span
        style="background-color: #ffffff"><font color="#000000">i</font></span><font color="#000066">].</font><span
        style="background-color: #ffffff"><font color="#000000">b</font></span><br/>
    <br/>
    <font color="#000000"><b>endfunction</b></font></font>

<p>Certain issues with array structs: You cannot declare default values (they would automatically be zero, null or false
    depending on the type of the member) , you cannot declare onDestroy (it would be pointless), you cannot use
    .allocate or .destroy, you cannot have array members. Notice that the problem with default values and array members
    are likely to be fixed in a next version.</p>

<p>Notice that you can use operator declarations to override the get [] operator, in this case, to be able to use ids
    you would be able to use the typecast operator, e.g. playerdata(4) to get the instances. If you did not understand
    this last paragraph, don&apos;t worry, you probably did not need to know this anyway.</p>

<h3><a name="keykeykey"></a>Keys</h3>
<p>key is a special vJass type that is meant to generate unique integer constants you can use in various ways, it is
    mostly intended to be used for key generation for warcraft 3&apos;s hashtable handle type.</p>

<p>Whenever you use the key type to declare a variable, a unique integer number is assigned to it. You may add the
    constant keyword for extra readability if you want.</p>

<font face="monospace">
    <font color="#000000"><b>scope</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">Tester</font></span>&nbsp;<font color="#000000"><b>initializer</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">test</font></span><br>
    <br>
    <font color="#000000"><b>globals</b></font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#7777cc"><b>key</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">AAAA</font></span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>private</b></font>&nbsp;&nbsp;<font
        color="#7777cc"><b>key</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">BBBB</font></span>&nbsp;<font
        color="#008800">// yes it is just another type, so you can have</font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>public</b></font>&nbsp;&nbsp; <font
        color="#7777cc"><b>key</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">CCCC</font></span>&nbsp;<font
        color="#008800">// public or private ones...</font><br>
    <br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>constant</b></font>&nbsp;<font color="#7777cc"><b>key</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">DDDD</font></span>&nbsp;&nbsp;<font color="#008800">//correctly
    describe it as a constant (not necessary)</font><br>
    <font color="#000000"><b>endglobals</b></font><br>
    <br>
    <br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>private</b></font>&nbsp;<font
        color="#000000"><b>function</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">test</font></span>&nbsp;<font color="#000000"><b>takes</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font>&nbsp;<font
        color="#000000"><b>returns</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font><br>
    &nbsp;&nbsp;&nbsp;&nbsp; <font color="#000000"><b>local</b></font>&nbsp;<font
        color="#7777cc"><b>hashtable</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">ht</font></span>&nbsp;= <span style="background-color: #ffffff"><font color="#000000">InitHashtable</font></span>()<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">SaveInteger</font></span>(<span
        style="background-color: #ffffff"><font color="#000000">ht</font></span>, <span
        style="background-color: #ffffff"><font color="#000000">AAAA</font></span>, <span
        style="background-color: #ffffff"><font color="#000000">BBBB</font></span>, <font color="#000066">5</font>)<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">SaveInteger</font></span>(<span
        style="background-color: #ffffff"><font color="#000000">ht</font></span>, <span
        style="background-color: #ffffff"><font color="#000000">AAAA</font></span>, <span
        style="background-color: #ffffff"><font color="#000000">CCCC</font></span>, <font color="#000066">7</font>)<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">SaveReal</font></span>(<span
        style="background-color: #ffffff"><font color="#000000">ht</font></span>, <span
        style="background-color: #ffffff"><font color="#000000">AAAA</font></span>, <span
        style="background-color: #ffffff"><font color="#000000">DDDD</font></span>, <span
        style="background-color: #ffffff"><font color="#000000">LoadInteger</font></span>(<span
        style="background-color: #ffffff"><font color="#000000">ht</font></span>,<span
        style="background-color: #ffffff"><font color="#000000">AAAA</font></span>, <span
        style="background-color: #ffffff"><font color="#000000">BBBB</font></span>) * <font color="#000066">0.05</font>&nbsp;)<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">BJDebugMsg</font></span>( <span
        style="background-color: #ffffff"><font color="#000000">R2S</font></span>( <span
        style="background-color: #ffffff"><font color="#000000">LoadReal</font></span>(<span
        style="background-color: #ffffff"><font color="#000000">ht</font></span>,<span
        style="background-color: #ffffff"><font color="#000000">AAAA</font></span>,<span
        style="background-color: #ffffff"><font color="#000000">DDDD</font></span>) ) )<br>
    <br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">BJDebugMsg</font></span>( <span
        style="background-color: #ffffff"><font color="#000000">I2S</font></span>(<span
        style="background-color: #ffffff"><font color="#000000">BBBB</font></span>) ) <font color="#008800">// will show
    two numbers, and</font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">BJDebugMsg</font></span>( <span
        style="background-color: #ffffff"><font color="#000000">I2S</font></span>(<span
        style="background-color: #ffffff"><font color="#000000">CCCC</font></span>) ) <font color="#008800">// the
    numbers will be different...</font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>endfunction</b></font><br>
    <br>
    <font color="#000000"><b>endscope</b></font><br>
</font>

<h2>Storage enhancers</h2>
<h3><a name="storintro"></a>Introduction</h3>
<p>There is an internal limit in Jass regarding array sizes, jasshelper is widely affected by it since it directly
    affects struct instance limits, for example. There is a way to
    virtually increase the limit by combining together a number of Jass arrays and translate indexes of the bigger array
    into indexes of the smaller arrays.</p>

<p>By using storage enhancer syntax you can make Jasshelper do this trick. But there is a catch, by increasing the limit
    of available indexes you make sacrifices of many kinds:</p>

<ul>
    <li>Operations that would usually just need an array lookup would require a function call instead, function calls
        are very slow in Jass in comparison to array lookups.
    </li>
    <li>The function requires to do some extra operations itself, currently the number of operations these functions
        take depends on
        (index_limit / 8191), soon a jasshelper improvement might allowe them to do log_2(index_limit/8191), notice that
        for smaller index limits this improvement is not important.
    </li>
    <li>The script size can increase significantly if you use very big index limits, on a lot of objects, for example if
        your struct got 20 fields and you use an index limit of 60000,
        the compiled script will require 40 new functions each with a little more than 16 lines.
    </li>
</ul>

<p>Some Jass applications will require more space which means you would have to use enhancers regardless of the
    limitations, in case you do not really need more space, using these enhancers is
    discouraged because of the cons described above, if you are making a flexible system that might or might not require
    these enhancements you can make the enhancer usage optional,
    because space syntax allows you to use constant variables in its declaration you can make the user able to determine
    it, if you use size enhancer syntax to
    specify a size not bigger than 8191 (or 8190 in the case of structs, since you also need the 0 instance) nothing
    will happen and the penalties described above will not apply.
</p>

<p>An internal jasshelper limit forbids a declaration that would require the script to use more than 8 arrays for the
    same big array, leading to an index space limit
    of around 408000, if you need more space, request so but include a good description of the (rather crazy) thing you
    are doing that requires so much space, I am interested in learning about it...</p>

<h3><a name="storarray"></a>Sized arrays</h3>

<p>Global arrays might sometimes require more index space, jasshelper introduces syntax for sized arrays, it serves two
    purposes: It will allow you to request more space, and it also allows you to
    place a .size field on global arrays.</p>

<pre>
<font color="#000000"><b>globals</b></font>
    <font color="#7777cc"><b>integer</b></font> <font color="#7777cc"><b>array</b></font> <span
        style="background-color: #ffffff"><font color="#000000">myArray</font></span> [<font color="#000066">500</font>]
<font color="#000000"><b>endglobals</b></font>

<font color="#000000"><b>function</b></font> <span style="background-color: #ffffff"><font
        color="#000000">test</font></span> <font color="#000000"><b>takes</b></font> <font
        color="#7777cc"><b>nothing</b></font> <font color="#000000"><b>returns</b></font> <font color="#7777cc"><b>nothing</b></font>
 <font color="#000000"><b>local</b></font> <font color="#7777cc"><b>integer</b></font> <span
        style="background-color: #ffffff"><font color="#000000">i</font></span>=<font color="#000066">0</font>

    <font color="#000000"><b>call</b></font> <span style="background-color: #ffffff"><font
        color="#000000">BJDebugMsg</font></span>(<span style="background-color: #ffffff"><font
        color="#000000">I2S</font></span>(<span style="background-color: #ffffff"><font
        color="#000000">myArray</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">size</font></span>)) <font color="#008800">//prints 500</font>

    <font color="#000000"><b>loop</b></font>
        <font color="#000000"><b>exitwhen</b></font> <span style="background-color: #ffffff"><font
        color="#000000">i</font></span>&gt;=<span style="background-color: #ffffff"><font color="#000000">myArray</font></span><font
        color="#000066">.</font><span style="background-color: #ffffff"><font color="#000000">size</font></span>
        <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">myArray</font></span>[<span style="background-color: #ffffff"><font
        color="#000000">i</font></span>]=<span style="background-color: #ffffff"><font color="#000000">i</font></span>
        <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">i</font></span>=<span style="background-color: #ffffff"><font
        color="#000000">i</font></span>+<font color="#000066">1</font>
    <font color="#000000"><b>endloop</b></font>
<font color="#000000"><b>endfunction</b></font>
</pre>

<p>Of course, you can bypass the 8191 array size limit:</p>
<pre>

<font color="#000000"><b>globals</b></font>
    <font color="#7777cc"><b>integer</b></font> <font color="#7777cc"><b>array</b></font> <span
        style="background-color: #ffffff"><font color="#000000">myArray</font></span> [<font color="#000066">9000</font>]
<font color="#000000"><b>endglobals</b></font>
</pre>

<p>You can use a constant as well:</p>
<pre>
<font color="#000000"><b>globals</b></font>
    <font color="#000000"><b>constant</b></font> <font color="#7777cc"><b>integer</b></font> <span
        style="background-color: #ffffff"><font color="#000000">Q</font></span>= <font color="#000066">60000</font>
    <font color="#7777cc"><b>integer</b></font> <font color="#7777cc"><b>array</b></font> <span
        style="background-color: #ffffff"><font color="#000000">myArray</font></span> [<span
        style="background-color: #ffffff"><font color="#000000">Q</font></span>]
<font color="#000000"><b>endglobals</b></font>
</pre>

<p>You can use this on struct static member arrays. (static integer A[10000])</p>

<h3><a name="twodarray"></a>2D arrays</h3>
<p>A quick improvement from sized arrays, is the ability to have two-dimensional arrays, n-dimensional arrays are not
    implemented, if you really need it very hard, contact me.</p>

<p>Two dimensional arrays in vJass, since vJass is implemented on top of Jass, are just normal arrays in disguise, using
    a multiplication trick to convert 2-dimension indexes into a one-dimension one. The way to declare one of these
    arrays is: <b>&lt;type&gt; array</b> name[<b>width</b>][<b>height</b>], notice the real size of the array is
    width*height, this size suffers the same limitations as normal array&apos;s size, it cannot go above approximately
    40800, and if this size is bigger than 8191, you will be using slower function calls instead of array lookups and
    multiple arrays in the final script, etc.</p>

<p>The field size would return this total size we are talking about, the fields height and width return the ones we used
    to declare the array. As with sized arrays, you can use constants for the width and size.</p>


<br/><font face="monospace">
    &nbsp;&nbsp; <font color="#000000"><b>globals</b></font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#7777cc"><b>integer</b></font>&nbsp;<font
        color="#7777cc"><b>array</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">mat1</font></span>&nbsp;[<font color="#000066">10</font>][<font color="#000066">20</font>]<br/>
    <br/>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#000000"><b>constant</b></font>&nbsp;<font color="#7777cc"><b>integer</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">W</font></span>=<font color="#000066">100</font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#000000"><b>constant</b></font>&nbsp;<font color="#7777cc"><b>integer</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">H</font></span>=<font color="#000066">200</font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#7777cc"><b>integer</b></font>&nbsp;<font
        color="#7777cc"><b>array</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">mat2</font></span>&nbsp;[<span style="background-color: #ffffff"><font color="#000000">W</font></span>][<span
        style="background-color: #ffffff"><font color="#000000">H</font></span>]<br/>
    <br/>
    &nbsp;&nbsp; <font color="#000000"><b>endglobals</b></font><br/>
    <br/>
    &nbsp;&nbsp; <font color="#000000"><b>function</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">test</font></span>&nbsp;<font color="#000000"><b>takes</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font>&nbsp;<font
        color="#000000"><b>returns</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>local</b></font>&nbsp;<font color="#7777cc"><b>integer</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">i</font></span>=<font color="#000066">0</font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>local</b></font>&nbsp;<font color="#7777cc"><b>integer</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">j</font></span>=<font color="#000066">0</font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>local</b></font>&nbsp;<font color="#7777cc"><b>integer</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">c</font></span>=<font color="#000066">0</font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#000000"><b>call</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">BJDebugMsg</font></span>(<span
        style="background-color: #ffffff"><font color="#000000">I2S</font></span>(<span
        style="background-color: #ffffff"><font color="#000000">mat1</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">size</font></span>)) <font color="#008800">//displays
    200 (10 * 20)</font><br/>
    <br/>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#008800">//fill the array:</font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#000000"><b>loop</b></font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font
        color="#000000"><b>exitwhen</b></font>&nbsp;(<span style="background-color: #ffffff"><font
        color="#000000">i</font></span>==<span style="background-color: #ffffff"><font
        color="#000000">mat1</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">width</font></span>)<br/>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#000000"><b>set</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">j</font></span>=<font color="#000066">0</font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#000000"><b>loop</b></font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#000000"><b>exitwhen</b></font>&nbsp;(<span
        style="background-color: #ffffff"><font color="#000000">j</font></span>==<span
        style="background-color: #ffffff"><font color="#000000">mat1</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">height</font></span>)<br/>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font
        color="#000000"><b>set</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">c</font></span>=<span style="background-color: #ffffff"><font
        color="#000000">c</font></span>+<font color="#000066">1</font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font
        color="#000000"><b>set</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">mat1</font></span>[<span
        style="background-color: #ffffff"><font color="#000000">i</font></span>][<span
        style="background-color: #ffffff"><font color="#000000">j</font></span>]=<span
        style="background-color: #ffffff"><font color="#000000">c</font></span><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font
        color="#000000"><b>set</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">j</font></span>=<span style="background-color: #ffffff"><font
        color="#000000">j</font></span>+<font color="#000066">1</font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#000000"><b>endloop</b></font><br/>
    <br/>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#000000"><b>set</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">i</font></span>=<span style="background-color: #ffffff"><font
        color="#000000">i</font></span>+<font color="#000066">1</font><br/>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#000000"><b>endloop</b></font><br/>
    <br/>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#000000"><b>call</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">BJDebugMsg</font></span>( <span
        style="background-color: #ffffff"><font color="#000000">I2S</font></span>( <span
        style="background-color: #ffffff"><font color="#000000">mat1</font></span>[<font color="#000066">0</font>][<font
        color="#000066">1</font>]&nbsp;&nbsp;)&nbsp;&nbsp;) <font color="#008800">//displays 2</font><br/>
    <br/>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#000000"><b>call</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">BJDebugMsg</font></span>( <span
        style="background-color: #ffffff"><font color="#000000">I2S</font></span>( <span
        style="background-color: #ffffff"><font color="#000000">mat2</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">width</font></span>) ) <font color="#008800">//displays
    100</font><br/>
    &nbsp;&nbsp; <font color="#000000"><b>endfunction</b></font><br/>
</font>
<h3><a name="storstruct"></a>Structs with more index space</h3>

<p>We got a struct X:</p>

<pre>

<font color="#000000"><b>struct</b></font> <span style="background-color: #ffffff"><font color="#000000">X</font></span>
    <font color="#7777cc"><b>integer</b></font> <span style="background-color: #ffffff"><font
        color="#000000">a</font></span>
    <font color="#7777cc"><b>integer</b></font> <span style="background-color: #ffffff"><font
        color="#000000">b</font></span>
<font color="#000000"><b>endstruct</b></font>
</pre>

<p>For some reason, the 8190 instances limit is not enough for us, we need 10000 instances ! so:</p>

<pre>

<font color="#000000"><b>struct</b></font> <span style="background-color: #ffffff"><font color="#000000">X</font></span>[<font
        color="#000066">10000</font>]
    <font color="#7777cc"><b>integer</b></font> <span style="background-color: #ffffff"><font
        color="#000000">a</font></span>
    <font color="#7777cc"><b>integer</b></font> <span style="background-color: #ffffff"><font
        color="#000000">b</font></span>
<font color="#000000"><b>endstruct</b></font>
</pre>

<p>Not to be confused with an instance limit improvement, it is an improvement for index space, both terms are usually
    equivalent unless there are array members involved:</p>

<pre>

<font color="#000000"><b>struct</b></font> <span style="background-color: #ffffff"><font color="#000000">X</font></span>[<font
        color="#000066">10000</font>]
    <font color="#7777cc"><b>integer</b></font> <span style="background-color: #ffffff"><font
        color="#000000">a</font></span>[<font color="#000066">2</font>]
    <font color="#7777cc"><b>integer</b></font> <span style="background-color: #ffffff"><font
        color="#000000">b</font></span>[<font color="#000066">5</font>]
<font color="#000000"><b>endstruct</b></font>
</pre>

<p>This struct got a maximum instance count of 2000</p>

<p>You cannot specify index space enhancers on structs that extend other structs or interfaces.</p>

<pre>

<font color="#000000"><b>struct</b></font> <span style="background-color: #ffffff"><font color="#000000">X</font></span>[<font
        color="#000066">10000</font>] <font color="#000000"><b>extends</b></font> <span
        style="background-color: #ffffff"><font color="#000000">Y</font></span> <font color="#008800">//bad</font>
    <font color="#7777cc"><b>integer</b></font> <span style="background-color: #ffffff"><font
        color="#000000">a</font></span>[<font color="#000066">2</font>]
    <font color="#7777cc"><b>integer</b></font> <span style="background-color: #ffffff"><font
        color="#000000">b</font></span>[<font color="#000066">5</font>]
<font color="#000000"><b>endstruct</b></font>

<font color="#000000"><b>interface</b></font> <span style="background-color: #ffffff"><font
        color="#000000">A</font></span>[<font color="#000066">20000</font>] <font color="#008800">//good</font>
    <font color="#000000"><b>method</b></font> <span style="background-color: #ffffff"><font
        color="#000000">a</font></span> <font color="#000000"><b>takes</b></font> <font
        color="#7777cc"><b>nothing</b></font> <font color="#000000"><b>returns</b></font> <font color="#7777cc"><b>nothing</b></font>
<font color="#000000"><b>endinterface</b></font>

<font color="#000000"><b>struct</b></font> <span style="background-color: #ffffff"><font color="#000000">B</font></span> <font
        color="#000000"><b>extends</b></font> <span style="background-color: #ffffff"><font
        color="#000000">A</font></span>
    <font color="#000000"><b>method</b></font> <span style="background-color: #ffffff"><font
        color="#000000">a</font></span> <font color="#000000"><b>takes</b></font> <font
        color="#7777cc"><b>nothing</b></font> <font color="#000000"><b>returns</b></font> <font color="#7777cc"><b>nothing</b></font>
       <font color="#000000"><b>call</b></font> <span style="background-color: #ffffff"><font
        color="#000000">BJDebugMsg</font></span>(<font color="#0000cc"><i>&quot;...&quot;</i></font>)
    <font color="#000000"><b>endmethod</b></font>
<font color="#000000"><b>endstruct</b></font>

<font color="#000000"><b>struct</b></font> <span style="background-color: #ffffff"><font color="#000000">C</font></span>[<font
        color="#000066">20000</font>] <font color="#008800">//good</font>
    <font color="#7777cc"><b>integer</b></font> <span style="background-color: #ffffff"><font
        color="#000000">x</font></span>
<font color="#000000"><b>endstruct</b></font>

<font color="#000000"><b>struct</b></font> <span style="background-color: #ffffff"><font color="#000000">D</font></span> <font
        color="#000000"><b>extends</b></font> <span style="background-color: #ffffff"><font
        color="#000000">C</font></span>
    <font color="#7777cc"><b>integer</b></font> <span style="background-color: #ffffff"><font
        color="#000000">y</font></span>
<font color="#000000"><b>endstruct</b></font>
</pre>

<p>Notice that A,B,C and D got a limit of 20000 indexes.</p>

<p>It is a little different for array structs, since as you can see, you cannot use the [] storage size specifier and
    extends at the same time. Since 0.9.E.1, it is possible to use array structs with enhanced storage specifying the
    size after the array keyword:</p>

<pre>
<font color="#000000"><b>struct</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">aBigOne</font></span>&nbsp;<font color="#000000"><b>extends</b></font>&nbsp;<font
        color="#7777cc"><b>array</b></font>&nbsp;[ <font color="#000066">20000</font>]
&nbsp;&nbsp; <font color="#7777cc"><b>integer</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">a</font></span>
&nbsp;&nbsp; <font color="#7777cc"><b>integer</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">b</font></span>
&nbsp;&nbsp; <font color="#7777cc"><b>integer</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">c</font></span>
<font color="#000000"><b>endstruct</b></font>

<font color="#000000"><b>function</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">meh</font></span>&nbsp;<font color="#000000"><b>takes</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font>&nbsp;<font
        color="#000000"><b>returns</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font>
&nbsp;&nbsp; <font color="#000000"><b>set</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">aBigOne</font></span><font
        color="#000066">[19990].</font><span style="background-color: #ffffff"><font color="#000000">a</font></span>&nbsp;= <font
        color="#000066">12</font>
<font color="#000000"><b>endfunction</b></font>
</pre>

<h3><a name="stordyrar"></a>Dynamic arrays with more index space</h3>

<p>Dynamic arrays already use [] to specify the size for each instance, but what if you want to specify the maximum
    storage space? I was forced to add a comma:</p>

<pre>

<font color="#000000"><b>type</b></font> <span style="background-color: #ffffff"><font color="#000000">myDyArray</font></span> <font
        color="#000000"><b>extends</b></font> <font color="#7777cc"><b>integer</b></font> <font
        color="#7777cc"><b>array</b></font> [<font color="#000066">200</font>] <font color="#008800">//a normal dynamic array type of size 200</font>
                                           <font color="#008800">//max 40 instances</font>


<font color="#000000"><b>type</b></font> <span style="background-color: #ffffff"><font color="#000000">myDyArray</font></span> <font
        color="#000000"><b>extends</b></font> <font color="#7777cc"><b>integer</b></font> <font
        color="#7777cc"><b>array</b></font> [<font color="#000066">200</font>,<font color="#000066">40000</font>] <font
        color="#008800">//an enhanced dynamic array type of size 200</font>
                                                 <font color="#008800">//max 200 instances</font>

</pre>

<h3>Jass Syntax extensions</h3>
<h4><a name="secolon"></a>Colon</h4>
<p>This is a new operator that basically allows you to use [] differently, call it a reverse []. Sometimes the logic of
    a script requires the order to be different in order to make more sense.</p>

<pre>
<font color="#000000"><b>function</b></font> <span style="background-color: #ffffff"><font
        color="#000000">test</font></span> <font color="#000000"><b>takes</b></font> <font
        color="#7777cc"><b>nothing</b></font> <font color="#000000"><b>returns</b></font> <font color="#7777cc"><b>nothing</b></font>
 <font color="#000000"><b>local</b></font> <font color="#7777cc"><b>integer</b></font> <span
        style="background-color: #ffffff"><font color="#000000">a</font></span>=<font color="#000066">3</font>
 <font color="#000000"><b>local</b></font> <font color="#7777cc"><b>integer</b></font> <font
        color="#7777cc"><b>array</b></font> <span style="background-color: #ffffff"><font
        color="#000000">X</font></span>

    <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">X</font></span>[<span style="background-color: #ffffff"><font
        color="#000000">a</font></span>]=<font color="#000066">10</font> <font color="#008800">//both of these statements do the same</font>
    <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">a</font></span>:<span style="background-color: #ffffff"><font
        color="#000000">X</font></span> =<font color="#000066">10</font>

    <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">X</font></span>[<span style="background-color: #ffffff"><font color="#000000">a</font></span>] = <span
        style="background-color: #ffffff"><font color="#000000">X</font></span>[<span style="background-color: #ffffff"><font
        color="#000000">a</font></span>] + <font color="#000066">10</font> <font color="#008800">//The same.</font>
    <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">a</font></span>:<span style="background-color: #ffffff"><font color="#000000">X</font></span> = <span
        style="background-color: #ffffff"><font color="#000000">a</font></span>:<span style="background-color: #ffffff"><font
        color="#000000">X</font></span> +<font color="#000066">10</font>

    <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">X</font></span>[<font color="#000066">3</font>]=<font color="#000066">1000</font>
    <font color="#000000"><b>set</b></font> <font color="#000066">3</font>:<span style="background-color: #ffffff"><font
        color="#000000">X</font></span> =<font color="#000066">1000</font> <font color="#008800">//this is invalid syntax, sorry, only use : on variables and stuff like that.</font>

<font color="#000000"><b>endfunction</b></font>
</pre>

<h4><a name="delicom"></a>Delimited comments</h4>
<p>These are the typical /* ... */ comments, that you can use to comment out blocks of code not necessarily ending with
    a line break. These comments are then just deleted from the map script. You can also nest these comments and do
    funny things as well...</p>


<font face="monospace">
    <br>
    <font color="#008800">/* Delimited comments example</font><br>
    <font color="#008800">&nbsp;They are a lot more useful than normal </font><br>
    <font color="#008800">&nbsp;comments, really</font><br>
    <br>
    <font color="#008800">&nbsp;*/</font><br>
    <font color="#000000"><b>function</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">test</font></span>&nbsp;<font color="#000000"><b>takes</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font>&nbsp;<font
        color="#000000"><b>returns</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">Something</font></span>( <font color="#008800">/*5*/</font>&nbsp;<font color="#000066">66</font>)
    <font color="#008800">/*We temporarily commented out 5, and replaced it with 66*/</font><br>
    <br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#008800">/*</font><br>
    <font color="#008800">&nbsp;&nbsp;&nbsp;&nbsp;call Something( /*5*/ 66)</font><br>
    <font color="#008800">&nbsp;&nbsp;&nbsp;&nbsp;*/</font><br>
    <br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#008800">// That comment up there contains another delimited comment...
    /*</font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">BJDebugMsg</font></span>(<font color="#0000cc"><i>&quot;Notice how the previous comment start
    was ignored&quot;</i></font>&nbsp;+ <font color="#008800">/*</font><br>
    <font color="#008800">&nbsp;&nbsp;&nbsp;&nbsp;*/</font>+<font color="#0000cc"><i>&quot;because it was inside a
    'normal' comment &quot;</i></font>+<font color="#008800">/*</font><br>
    <font color="#008800">&nbsp;&nbsp;&nbsp;&nbsp;*/</font>+<font color="#0000cc"><i>&quot;Also notice how we made the
    parser skipped the previous &quot;</i></font>+<font color="#008800">/*</font><br>
    <font color="#008800">&nbsp;&nbsp;&nbsp;&nbsp;*/</font>+<font color="#0000cc"><i>&quot;line breaks because they were
    inside a comment&quot;</i></font>+<font color="#008800">/*</font><br>
    <font color="#008800">&nbsp;&nbsp;&nbsp;&nbsp;*/</font><font color="#0000cc"><i>&quot;These comments do not count if
    they are /*inside a string*/ ... &quot;</i></font>)<br>
    <br>
    <br>
    <font color="#000000"><b>endfunction</b></font><br>
    <br>
    <br>
    <br>
    <br>
    <br>
</font>

<h3><a name='hook'></a>hook</h3>
<p>There are functions that are outside of our control most of the times, like natives and those in blizzard.j. The
    <strong>hook</strong> keyword allows us to detect them.</p>
<p>Use hook, the name of the native/bj function and the name of a function or static method and you will be able to
    detect when that native is called and also capture the arguments given to it.</p>

<font face="monospace">
    <font color="#000000"><b>function</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">onRemoval</font></span>&nbsp;<font
        color="#000000"><b>takes</b></font>&nbsp;<font color="#7777cc"><b>unit</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">u</font></span>&nbsp;<font
        color="#000000"><b>returns</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>call</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">BJDebugMsg</font></span>(<font color="#0000cc"><i>&quot;unit is being removed!&quot;</i></font>)<br>
    <font color="#000000"><b>endfunction</b></font><br>
    <br>
    <font color="#000000"><b>struct</b></font>&nbsp;<span style="background-color: #ffffff"><font
        color="#000000">err</font></span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>static</b></font>&nbsp;<font color="#000000"><b>method</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">onrem</font></span>&nbsp;<font
        color="#000000"><b>takes</b></font>&nbsp;<font color="#7777cc"><b>unit</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">u</font></span>&nbsp;<font
        color="#000000"><b>returns</b></font>&nbsp;<font color="#7777cc"><b>nothing</b></font>&nbsp;<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#000000"><b>call</b></font>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">BJDebugMsg</font></span>(<font color="#0000cc"><i>&quot;This
    also knows that a unit is being removed!&quot;</i></font>)<br>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000"><b>endmethod</b></font><br>
    <font color="#000000"><b>endstruct</b></font><br>
    <br>
    <font color="#000000"><b>hook</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">RemoveUnit</font></span>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">onRemoval</font></span><br>
    <font color="#000000"><b>hook</b></font>&nbsp;<span style="background-color: #ffffff"><font color="#000000">RemoveUnit</font></span>&nbsp;<span
        style="background-color: #ffffff"><font color="#000000">err</font></span><font color="#000066">.</font><span
        style="background-color: #ffffff"><font color="#000000">onrem</font></span>&nbsp;<font color="#008800">//works
    as well</font><br>
    <br>
    <br>
</font>

<p>Try the code in some map, in which RemoveUnit is called sometimes and see what happens next time it is called.</p>
<p>There are some limitations for now, if the native/bj function is called by another bj function, the hook does not
    work when that other bj function gets called.</p>


<h3><a name='inject'></a>inject</h3>

<p>Certain advanced users might use the world editor yet prefer to have more control over the map script, namely making
    their own main or config functions, the inject preprocessors allows to replace such functions.</p>

<p>The syntax is: //! inject main/config (...) //! endinject</p>

<p>For example:</p>
<pre>

<font color="#777777">//! inject main</font>
   <font color="#008800">//some function calls may go here</font>

   <font color="#008800">// this places vjass initializations there, notice structs are first initialized then library initializers</font>
   <font color="#008800">// are called</font>
   <font color="#777777">//! dovjassinit</font>


   <font color="#008800">//other calls may go here</font>

   <font color="#000000"><b>call</b></font> <span style="background-color: #ffffff"><font color="#000000">InitCustomTriggers</font></span>() <font
        color="#008800">//maybe you want to exploit that world editor function...</font>
<font color="#777777">//! endinject</font>



</pre>

<p>The dovjassinit preprocessor may prove very helpful, it is only necessary if there is no call to InitBlizzard in the
    custom main or if you need to control the position of such initializing of structs and libraries.</p>

<p>//! inject config works the same way only that there is no //! dovjassinit for that case.</p>

<h3><a name='slk'></a>Loading structs from SLK files</h3>

<p>It is possible to load (convert) an slk into code to be added to the map&apos;s script, specifically struct
    assigments. This can be really useful when a system uses structs to store data, since SLK is a table format it can
    save some work and make things easier to edit without the manual struct assigning.</p>

<p>The preprocessor to load an slk file is //! loaddata "path.slk" . The file path argument follows exactly the same
    rules as the ones I already specified in import (including lookup folders)</p>

<p>Both the slk and the struct type to be loaded need to follow very specific rules.</p>

<h4>The SLK</h4>

<p>The SLK file requires to have an struct name at (row 1, column 1) Then the first row contains field names, the next
    rows contain a [key] and values for the names specified up there.</p>

<table border="1" cellpadding="5">
    <tr>
        <td>stname</td>
        <td>this</td>
        <td>is</td>
        <td>just</td>
        <td>an</td>
        <td>example</td>
    </tr>
    <tr>
        <td>1</td>
        <td>2</td>
        <td>3</td>
        <td>4</td>
        <td>5</td>
        <td>6</td>
    </tr>
    <tr>
        <td>7</td>
        <td>8</td>
        <td>9</td>
        <td>10</td>
        <td>11</td>
        <td>12</td>
    </tr>
</table>

<p>In the example, the name of the struct type to be loaded is stname, the keys of the instances that will be loaded are
    1 and 7, and the rest is information about fields and values.</p>

<h4>The struct type</h4>
<p>The struct type to be used (in the example, stname) requires a getFromKey static method that returns a value of the
    struct type.</p>

<p>getFromKey() would simply convert a key value and return an equivalent struct, this is because you often want data
    structs to be related to something else. (Most of the times the [something else] will be an object id.)</p>

<p>For this example, getFromKey would have to take an integer value</p>

<p>The struct type also requires to have the fields declared in the SLK file, the SLK is not forced to list all the
    fields of the struct type.</p>

<p>So if we have this struct definition:</p>
<pre><span class="syntax0"><span class="syntax-KEYWORD2">struct</span> stname
    <span class="syntax-KEYWORD3">integer</span> <span class="syntax-LITERAL2">this</span>
    <span class="syntax-KEYWORD3">integer</span> is
    <span class="syntax-KEYWORD3">integer</span> just
    <span class="syntax-KEYWORD3">integer</span> an
    <span class="syntax-KEYWORD3">integer</span> example

    <span class="syntax-KEYWORD2">static</span> stname <span class="syntax-KEYWORD3">array</span> values

    <span class="syntax-KEYWORD2">static</span> <span class="syntax-KEYWORD2">method</span> getFromKey <span
            class="syntax-KEYWORD2">takes</span> <span class="syntax-KEYWORD3">integer</span> i <span
            class="syntax-KEYWORD2">returns</span> <span class="syntax-KEYWORD3">thistype</span>
        <span class="syntax-KEYWORD1">if</span> <span class="syntax-OPERATOR">(</span>stname<span
            class="syntax-OPERATOR">.</span>values<span class="syntax-OPERATOR">[</span>i<span
            class="syntax-OPERATOR">]</span><span class="syntax-OPERATOR">=</span><span class="syntax-OPERATOR">=</span><span
            class="syntax-DIGIT">0</span><span class="syntax-OPERATOR">)</span> <span
            class="syntax-KEYWORD1">then</span>
            <span class="syntax-KEYWORD1">set</span> values<span class="syntax-OPERATOR">[</span>i<span
            class="syntax-OPERATOR">]</span><span class="syntax-OPERATOR">=</span>stname<span
            class="syntax-OPERATOR">.</span><span class="syntax-KEYWORD4">create</span><span
            class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>
        <span class="syntax-KEYWORD1">endif</span>
     <span class="syntax-KEYWORD1">return</span> stname<span class="syntax-OPERATOR">.</span>values<span
            class="syntax-OPERATOR">[</span>i<span class="syntax-OPERATOR">]</span>
    <span class="syntax-KEYWORD2">endmethod</span>

<span class="syntax-KEYWORD2">endstruct</span>
</span></pre>

<p> And we also load the SLK from the previous example, the loaded init code would be:</p>

<pre>
    <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">s</font></span>=<span style="background-color: #ffffff"><font
        color="#000000">stname</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">getFromKey</font></span>(<font color="#000066">1</font>)
    <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">s</font></span><font color="#000066">.</font><font color="#000066">this</font>=<font
        color="#000066">2</font>
    <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">s</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">is</font></span>=<font color="#000066">3</font>
    <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">s</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">just</font></span>=<font color="#000066">4</font>
    <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">s</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">an</font></span>=<font color="#000066">5</font>
    <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">s</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">example</font></span>=<font color="#000066">6</font>
    <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">s</font></span>=<span style="background-color: #ffffff"><font
        color="#000000">stname</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">getFromKey</font></span>(<font color="#000066">7</font>)
    <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">s</font></span><font color="#000066">.</font><font color="#000066">this</font>=<font
        color="#000066">8</font>
    <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">s</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">is</font></span>=<font color="#000066">9</font>
    <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">s</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">just</font></span>=<font color="#000066">10</font>
    <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">s</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">an</font></span>=<font color="#000066">11</font>
    <font color="#000000"><b>set</b></font> <span style="background-color: #ffffff"><font
        color="#000000">s</font></span><font color="#000066">.</font><span style="background-color: #ffffff"><font
        color="#000000">example</font></span>=<font color="#000066">12</font>
</pre>

<p>Notice that this code is then run after the struct and libraries initialization</p>

<p>For a more practical explanation check out the SLK demo included in the JassHelper distribution.</p>

<h3><a name='opt'></a>Script optimization</h3>
<p>Since version 0.9.A.0 script optimization is available in jasshelper, it is currently enabled by default, in order to
    disable optimization you can either enable debug mode or use the --nooptimize argument (jasshelper.exe), newgen
    should get a menu entry for toggling this option added soon.</p>

<p>At the moment the only available optimization is function inlining. More methods shall be added later including some
    improved versions of some of wc3mapoptimizer&apos;s options.</p>

<h4><a name='inl'></a>Function inlining</h4>
<p>Function inlining will look for function calls that can be inlined and then just convert their calls to a direct
    usage of the function&apos;s contents. In order not to break the normal execution of the map, this is done only in
    few cases. An example of inlining follows.</p>

<pre>
<font color="#000000"><b>function</b></font> <span style="background-color: #ffffff"><font
        color="#000000">MyFunction</font></span> <font color="#000000"><b>takes</b></font> <font color="#7777cc"><b>integer</b></font> <span
        style="background-color: #ffffff"><font color="#000000">a</font></span>, <font
        color="#7777cc"><b>integer</b></font> <span style="background-color: #ffffff"><font
        color="#000000">b</font></span> <font color="#000000"><b>returns</b></font> <font color="#7777cc"><b>integer</b></font>
    <font color="#000000"><b>return</b></font> <span style="background-color: #ffffff"><font
        color="#000000">myarray</font></span>[<span style="background-color: #ffffff"><font
        color="#000000">a</font></span>]*<span style="background-color: #ffffff"><font color="#000000">b</font></span>
<font color="#000000"><b>endfunction</b></font>

<font color="#000000"><b>function</b></font> <span style="background-color: #ffffff"><font color="#000000">MyOtherFunction</font></span> <font
        color="#000000"><b>takes</b></font> <font color="#7777cc"><b>nothing</b></font> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>integer</b></font>
    <font color="#000000"><b>return</b></font> <span style="background-color: #ffffff"><font
        color="#000000">MyFunction</font></span>(<font color="#000066">3</font>,<font color="#000066">4</font>)
<font color="#000000"><b>endfunction</b></font>

<font color="#008800">//becomes:</font>

<font color="#000000"><b>function</b></font> <span style="background-color: #ffffff"><font color="#000000">MyOtherFunction</font></span> <font
        color="#000000"><b>takes</b></font> <font color="#7777cc"><b>nothing</b></font> <font
        color="#000000"><b>returns</b></font> <font color="#7777cc"><b>integer</b></font>
    <font color="#000000"><b>return</b></font> <span style="background-color: #ffffff"><font
        color="#000000">myarray</font></span>[<font color="#000066">3</font>]*<font color="#000066">4</font>
<font color="#000000"><b>endfunction</b></font>

</pre>

<p>Inlining is important because it will reduce the number of function calls and make certain parts of the map script
    faster, while at the same time it will allow you to write readable code.</p>
<p>How to make a function inlineable? The current algorithm basically follows these rules (which are subject to change
    to allow more functions to be considered inlineable in the future):</p>
<ul>
    <li>The function is a one-liner</li>
    <li>If the function is called by <strong>call</strong> the function&apos;s contents must begin with
        <strong>set</strong> or <strong>call</strong> or be a <strong>return</strong> of a single function.
    </li>
    <li>If the inlined function is an assigment (<strong>set</strong>) it should not assign one of its arguments.</li>
    <li>Every argument must be evaluated once and only once by the function, in the same order as they appear in the
        arguments list.
    </li>
    <li>If the function contains function calls, they should all be evaluated after the arguments UNLESS the function is
        marked as non-state changing, at the moment some very few native functions and also return bug exploiters are
        considered as non-state changing.
    </li>
</ul>

<h3><a name='ext'></a>External Tools</h3>
<p>JassHelper allows the //! external preprocessor that let you call other tools on the map after the map is compiled
    with JassHelper, this way these tools may work the same with grimoire and WEHelper</p>

<p>The preprocessor is //! external EXTERNAL_TOOL_NAME [external arguments]</p>

<p>EXTERNAL_TOOL_NAME must match the name of the tool in the configuration (Either the dialog in the wehelper plugin or
    the .conf file for the grimoire version)</p>

<p>The text after the external name is optional and is given to the tool as command line arguments.</p>

<p>You may also use the externalblock preprocessor if you want to specify an input that will be send to the external
    tool in stdin:</p>

<font face="monospace">
    <font color="#666666">//! externalblock EXTERNALNAME ARGUMENTS LIST</font><br>
    <font color="#666666">//! i These lines will get send to</font><br>
    <font color="#666666">//! i The tool as stdin</font><br>
    <font color="#666666">//! i The i and the space after the i are ignored.</font><br>
    &nbsp;&nbsp; <br>
    &nbsp;&nbsp;&nbsp;&nbsp; <font color="#008800">//comment and whitespace not to appear in stdin</font><br>
    <br>
    <font color="#666666">//! i</font><br>
    <font color="#666666">//! i That one up there was just an empty line to send to the program</font><br>
    <font color="#666666">//! endexternalblock</font><br>
</font>

<p>What if the tool supports not stdin but a file? Well, you can make jasshelper save the contents of externalblock in a
    temp file and then send that file to the tool using $FILENAME$</p>

<font face="monospace">
    <font color="#666666">//! externalblock EXTERNALNAME SOME_ARGUMENTS $FILENAME$ OTHER_ARGUMENTS</font><br>
</font>

<p>If you try this you will find out that some tool makers out there for some strange reason require you to use specific
    extensions for the provided file names. Well, in that case you may use extension=</p>

<font face="monospace">
    <font color="#666666">//! externalblock extension=lua OBJECTMERGER SOME_ARGUMENTS $FILENAME$
        OTHER_ARGUMENTS</font><br>
</font>


<p>The next is kind of a section for programmers:</p>

<h4>What kind of tool?</h4>
<p> For a tool to work correctly with the external preprocessor it must have a very specific behaviour.</p>

<p>First of all JassHelper will pass these arguments to the tool</p>
<ul>
    <li>The map&apos;s file path.</li>
    <li>A tokenized chain of directory paths ( c:/;d:/somepath;c:/anotherlocation/ ) These are the lookup paths used by
        JassHelper, in order to fix some issues the \ character is replaced with / here.
    </li>
    <li>The rest of the line in the external preprocessor. (The tool might or might not have more arguments)</li>
</ul>

<p>Then the tool must use the 0 code if it was succesful, otherwise return any number different to 0 and should write an
    error message to either stdin or stderr.</p>


<h3><a name='br'></a>Linebreak fixer.</h3>

<p>As a side effect of the parsing necessary for this project it also replaces line breaks inside Jass
    string literals into properly escaped \n this also fixes an issue with PJass giving the wrong line
    number if there are strings with linebreaks.</p>
</body>
</html>
